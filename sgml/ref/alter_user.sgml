<!--
$Header: /var/lib/cvs/pgsql-fr/sgml/ref/alter_user.sgml,v 1.6 2004/12/21 00:00:04 guillaume Exp $
PostgreSQL documentation
-->

<refentry id="SQL-ALTERUSER">
 <refmeta>
  <refentrytitle id="sql-alteruser-title">ALTER USER</refentrytitle>
  <refmiscinfo>SQL - Commandes du language</refmiscinfo>
 </refmeta>

 <refnamediv>
  <refname>ALTER USER</refname>
  <refpurpose>modifie le compte d'un utilisateur de la base de données</refpurpose>
 </refnamediv>

 <indexterm zone="sql-alteruser">
  <primary>ALTER USER</primary>
 </indexterm>

 <refsynopsisdiv>
<synopsis>
ALTER USER <replaceable class="PARAMETER">nom</replaceable> [ [ WITH ] <replaceable class="PARAMETER">option</replaceable> [ ... ] ]

où <replaceable class="PARAMETER">option</replaceable> peut être:

    [ ENCRYPTED | UNENCRYPTED ] PASSWORD '<replaceable class="PARAMETER">motdepasse</replaceable>' 
    | CREATEDB | NOCREATEDB
    | CREATEUSER | NOCREATEUSER 
    | VALID UNTIL '<replaceable class="PARAMETER">dateheure</replaceable>'

ALTER USER <replaceable class="PARAMETER">nom</replaceable> RENAME TO <replaceable>nouveaunom</replaceable>

ALTER USER <replaceable class="PARAMETER">nom</replaceable> SET <replaceable>parametre</replaceable> { TO | = } { <replaceable>valeur</replaceable> | DEFAULT }
ALTER USER <replaceable class="PARAMETER">nom</replaceable> RESET <replaceable>parametre</replaceable>
</synopsis>
 </refsynopsisdiv>

 <refsect1>
  <title>Description</title>

  <para>
   <command>ALTER USER</command> sert à changer les attributs d'un compte 
   utilisateur de <productname>PostgreSQL</productname> les attributs non 
   mentionnés dans la commande gardent leur valeur précédente.
   </para>

  <para>
   La première variante de cette commande dans les synopsis change certains
   privilèges globaux de l'utilisateur et les paramètres d'authentification
   (voir plus bas pour les détails.)
   Seul un super-utilisateur de la base de données peut changer ces privilèges
   et l'expiration du mot de passe. Les utilisateurs ordinaires peuvent
   seulement changer leur mot de passe.
  </para>

  <para>
   La deuxième variante change le nom de l'utilisateur. Seul un super-
   utilisateur peut renommer des comptes utilisateurs. L'utilisateur
   de la session ne peut être renommé. (Connectez vous avec un autre
   utilisateurs si vous avez besoin de le faire.)
  </para>

  <para>
   La troisième et la quatrième variante changent les paramètres de session 
   par défaut pour une variable de configuration donnée. A chaque fois que
   l'utilisateur débute une nouvelle session, les valeurs spécifiées
   deviennent les valeurs par défaut de la session, quels que soient les 
   paramètres présents dans <filename>postgresql.conf</> ou ceux reçus
   sur la ligne de commande par le <command>postmaster</command>.
   Les utilisateurs ordinaires peuvent changer les valeurs par défaut de 
   leur propre session. Les super-utilisateurs peuvent changer les valeurs
   de session par défaut de tout le monde.
  </para>
 </refsect1>

 <refsect1>
  <title>Paramètres</title>

    <variablelist>
     <varlistentry>
      <term><replaceable class="PARAMETER">nom</replaceable></term>
      <listitem>
       <para>
    Le nom de l'utilisateur dont les attributs doivent être modifiés.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><replaceable class="PARAMETER">motdepasse</replaceable></term>
      <listitem>
       <para>
	Le nouveau mot de passe à utiliser pour ce compte.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><literal>ENCRYPTED</literal></term>
      <term><literal>UNENCRYPTED</literal></term>
      <listitem>
       <para>
    Ces mots clé contrôlent si le mot de passe est stocké crypté ou non dans
    <literal>pg_shadow</>.  (Voir
	<xref linkend="SQL-CREATEUSER" endterm="SQL-CREATEUSER-title"> pour 
    avoir plus d'information sur ce choix.)
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><literal>CREATEDB</literal></term>
      <term><literal>NOCREATEDB</literal></term>
      <listitem>
       <para>
	Ces clauses indiquent si un utilisateur peut ou non créer des bases
    de données. Si <literal>CREATEDB</literal> est indiqué, alors l'utilisateur
    aura le droit de créer ses propres bases de données. 
    L'utilisation de <literal>NOCREATEDB</literal> lui interdit de créer
    des bases de données.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><literal>CREATEUSER</literal></term>
      <term><literal>NOCREATEUSER</literal></term>
      <listitem>
       <para>
    Ces clauses indiquent si un utilisateur aura le droit de
    créer des nouveaux utilisateurs lui même. Cette option fera aussi de
    l'utilisateur un super-utilisateur qui peut passer outre toutes les
    restrictions d'accès.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><replaceable class="PARAMETER">dateheure</replaceable></term>
      <listitem>
       <para>
	La date (et optionnellement l'heure) à laquelle le mot de passe de
    l'utilisateur expire. Pour indiquer que le mot de passe n'expire jamais,
    utilisez le littéral <literal>'infinity'</>.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><replaceable>nouveaunom</replaceable></term>
      <listitem>
       <para>
    Le nouveau nom de l'utilisateur.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><replaceable>paramètre</replaceable></term>
      <term><replaceable>valeur</replaceable></term>
      <listitem>
       <para>
        Remet la valeur de ce paramètre de configuration de session à 
        sa valeur par défaut.
        Si <replaceable>valeur</replaceable> vaut <literal>DEFAULT</literal>
        ou <literal>RESET</literal> (les deux sont équivalents), alors la valeur
        spécifique à l'utilisateur qui était enregistrée est supprimée, et
        l'utilisateur héritera des valeurs générales du système dans ses 
        nouvelles sessions.
        Utilisez <literal>RESET ALL</literal> pour supprimer toutes les
        valeurs enregistrées.
       </para>

       <para>
        Voir <xref linkend="sql-set" endterm="sql-set-title"> et <xref
        linkend="runtime-config"> pour plus d'informations sur les
        valeurs possibles pour les paramètres et leurs valeurs.
       </para>
      </listitem>
     </varlistentry>
    </variablelist>
 </refsect1>

 <refsect1>
  <title>Notes</title>

  <para>
   Utilisez <xref linkend="SQL-CREATEUSER" endterm="SQL-CREATEUSER-title">
   pour ajouter de nouveaux utilisateurs, et <xref linkend="SQL-DROPUSER"
   endterm="SQL-DROPUSER-title"> pour enlever un utilisateur.
  </para>

  <para>
   <command>ALTER USER</command> ne permet pas de changer les groupes d'un
   utilisateur.
   Utilisez <xref linkend="SQL-ALTERGROUP" endterm="SQL-ALTERGROUP-title">
   pour cela.
  </para>

  <para>
   Avec <xref linkend="sql-alterdatabase"
   endterm="sql-alterdatabase-title">, il est aussi possible de lier la
   valeur d'un paramètre de session à une base de données plutôt qu'à un
   utilisateur.
  </para>
 </refsect1>

 <refsect1>
  <title>Exemples</title>

  <para>
   Changer le mot de passe d'un utilisateur:

<programlisting>
ALTER USER davide WITH PASSWORD 'hu8jmn3';
</programlisting>
  </para>

  <para>
   Changer la date de fin de validité d'un utilisateur:

<programlisting>
ALTER USER manuel VALID UNTIL 'Jan 31 2030';
</programlisting>
  </para>

  <para>
   Changer la date de fin de validité d'un utilisateur, 
   en indiquant que sont autorisation doit expirer à midi
   le 4 mai 2005pour le fuseau horaire <acronym>UTC</>+1:
<programlisting>
ALTER USER chris VALID UNTIL 'May 4 12:00:00 2005 +1';
</programlisting>
  </para>

  <para>
   Rendre un utilisateur valide indéfiniment:
<programlisting>
ALTER USER fred VALID UNTIL 'infinity';
</programlisting>
  </para>

  <para>
   Donner à un utilisateur le droit de créer de nouvelles bases de données
   et de nouveaux utilisateurs:

<programlisting>
ALTER USER miriam CREATEUSER CREATEDB;
</programlisting>
  </para>
 </refsect1>

 <refsect1>
  <title>Compatibilité</title>
    
  <para>
   La commande <command>ALTER USER</command> est une extension de
   <productname>PostgreSQL</productname>. En effet, le standard SQL laisse
   la façon de définir les utilisateurs au choix du SGBD.
  </para>
 </refsect1>

 <refsect1>
  <title>Voir aussi</title>

  <simplelist type="inline">
   <member><xref linkend="sql-createuser" endterm="sql-createuser-title"></member>
   <member><xref linkend="sql-dropuser" endterm="sql-dropuser-title"></member>
   <member><xref linkend="sql-set" endterm="sql-set-title"></member>
  </simplelist>
 </refsect1>
</refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:nil
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
sgml-parent-document:nil
sgml-default-dtd-file:"../reference.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:"/usr/lib/sgml/catalog"
sgml-local-ecat-files:nil
End:
-->
