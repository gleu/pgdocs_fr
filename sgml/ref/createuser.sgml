<!--
$Header: /var/lib/cvs/pgsql-fr/sgml/ref/createuser.sgml,v 1.9 2005/09/15 07:03:26 guillaume Exp $
PostgreSQL documentation
-->

<refentry id="APP-CREATEUSER">
 <refmeta>
  <refentrytitle id="APP-CREATEUSER-TITLE"><application>createuser</application></refentrytitle>
  <manvolnum>1</manvolnum>
  <refmiscinfo>Application</refmiscinfo>
 </refmeta>

 <refnamediv>
  <refname>createuser</refname>
  <refpurpose>d�init un nouveau compte utilisateur
   <productname>PostgreSQL</productname></refpurpose>
 </refnamediv>

 <indexterm zone="app-createuser">
  <primary>createuser</primary>
 </indexterm>

 <refsynopsisdiv>
  <cmdsynopsis>
   <command>createuser</command>
   <arg rep="repeat"><replaceable>option</replaceable></arg>
   <arg><replaceable>nom_utilisateur</replaceable></arg>
  </cmdsynopsis>
 </refsynopsisdiv>
  

 <refsect1>
  <title>Description</title>
  <para>
   <application>createuser</application> cr� un nouvel utilisateur
   <productname>PostgreSQL</productname> (ou, plus pr�is�ent, un r�e). Seuls
   les superutilisateurs et les utilisateurs disposant du droit
   <literal>CREATEROLE</literal>) peut cr�r de nouveaux utilisateurs
   <productname>PostgreSQL</productname>, donc
   <application>createuser</application> doit �re appel�par quelqu'un qui peut
   se connecter en tant que superutilisateur ou en tant qu'utilisateur ayant le
   droit <literal>CREATEROLE</literal>.
  </para>

  <para>
   Si vous souhaitez cr�r un nouveau superutilisateur, vous devez vous
   connecter en tant que superutilisateur, et non pas en tant qu'utilisateur
   simple disposant du droit <literal>CREATEROLE</> privilege.
   �re un superutilisateur implique la capacit�de passer certaines
   v�ifications de droits d'acc� dans la base de donn�s, donc cette fonction
   ne devrait pas �re donn� �la l��e.
  </para>

  <para>
   <application>createuser</application> est un emballage autour de la commande
   <acronym>SQL</acronym> <xref linkend="SQL-CREATEROLE"
   endterm="SQL-CREATEROLE-title">. Il n'y a pas de diff�ence r�lle entre la
   cr�tion d'utilisateurs via cet outil ou via d'autres m�hodes pour acc�er
   au serveur.
  </para>

 </refsect1>


 <refsect1>
  <title>Options</title>

  <para>
   <application>createuser</> accepte les arguments suivant en ligne de
   commande&nbsp;

    <variablelist>
     <varlistentry>
      <term><replaceable class="parameter">nomutilisateur</replaceable></term>
      <listitem>
       <para>
	Sp�ifie le nom de l'utilisateur <productname>PostgreSQL</productname>
	�cr�r. Ce nom doit �re diff�ent de tous les r�es existant dans
	cette installation de <productname>PostgreSQL</productname>.
       </para>
      </listitem>
     </varlistentry>  

     <varlistentry>
      <term><option>-s</></term>
      <term><option>--superuser</></term>
      <listitem>
       <para>
	Le nouvel utilisateur sera un superutilisateur.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-S</></term>
      <term><option>--no-superuser</></term>
      <listitem>
       <para>
	Le nouvel utilisateur ne sera pas un superutilisateur.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-d</></term>
      <term><option>--createdb</></term>
      <listitem>
       <para>
	Le nouvel utilisateur sera autoris��cr�r des bases de donn�s.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-D</></term>
      <term><option>--no-createdb</></term>
      <listitem>
       <para>
	Le nouvel utilisateur ne sera pas autoris��cr�r des bases de donn�s.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-r</></term>
      <term><option>--createrole</></term>
      <listitem>
       <para>
        Le nouvel utilisateur sera autoris��cr�r de nouveaux r�es
        (c'est-�dire que cet utilisateur aura le droit <literal>CREATEROLE</>).
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-R</></term>
      <term><option>--no-createrole</></term>
      <listitem>
       <para>
        Le nouvel utilisateur ne sera pas autoris��cr�r de nouveaux r�es.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-l</></term>
      <term><option>--login</></term>
      <listitem>
       <para>
        Le nouvel utilisateur sera autoris��se connecter (c'est-�dire que le
        nom de l'utilisateur peut �re utilis�comme identifiant utilisateur
        pour une connexion initiale). C'est la valeur par d�aut.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-L</></term>
      <term><option>--no-login</></term>
      <listitem>
       <para>
        Le nouvel utilisateur ne sera pas autoris��se connecter par d�aut.
        (Un r�e sans droit de connexion est toujours utile comme moyen pour
        g�er les droits de la base de donn�s.)
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-i</></term>
      <term><option>--inherit</></term>
      <listitem>
       <para>
        Le nouveau r�e h�itera automatiquement des droits des r�es dont il
        est membre. C'est la valeur par d�aut.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-I</></term>
      <term><option>--no-inherit</></term>
      <listitem>
       <para>
        Le nouveau r�e n'h�itera pas automatiquement des droits des r�es dont
        il est membre.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-c <replaceable class="parameter">number</replaceable></></term>
      <term><option>--connection-limit <replaceable class="parameter">number</replaceable></></term>
      <listitem>
       <para>
        Configure le nombre maximum de connexions simultan�s pour le nouvel
        utilisateur. La valeur par d�aut est de n'avoir pas de limite.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-P</></term>
      <term><option>--pwprompt</></term>
      <listitem>
       <para>
	Si indiqu� <application>createuser</application> affichera une invite
	pour la saisie du mot de passe du nouvel utilisateur. Ceci n'est pas
	n�essaire si vous pense ne pas utiliser l'authentification par mot de
	passe.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-E</></term>
      <term><option>--encrypted</></term>
      <listitem>
       <para>
        Crypte le mot de passe de l'utilisateur pour son stockage dans la base.
        Si cette option n'est pas sp�ifi�, le comportement par d�aut est
        utilis�
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-N</></term>
      <term><option>--unencrypted</></term>
      <listitem>
       <para>
        Ne crypte pas le mot de passe de l'utilisateur pour son stockage dans
        la base. Si cette option n'est pas sp�ifi�, le comportement par
        d�aut est utilis�
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-e</></term>
      <term><option>--echo</></term>
      <listitem>
       <para>
        Affiche les commandes que <application>createuser</application> g��e
        et envoie au serveur.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-q</></term>
      <term><option>--quiet</></term>
      <listitem>
       <para>
        N'affiche aucune r�onse.
       </para>
      </listitem>
     </varlistentry>
    </variablelist>
  </para>

  <para>
   Il vous sera demand�un nom et toute autre information manquante si elles ne
   sont pas sp�ifi�s sur la ligne de commande.
  </para>

  <para>
   <application>createuser</application> accepte aussi les arguments suivant en
   ligne de commande pour les param�res de connexion&nbsp;:
    
   <variablelist>
     <varlistentry>
      <term><option>-h <replaceable
	class="parameter">h�e</replaceable></></term>
      <term><option>--host <replaceable
	class="parameter">h�e</replaceable></></term>
      <listitem>
       <para>
	Sp�ifie le nom de l'h�e de la machine sur lequel le serveur est en 
	cours d'ex�ution. Si la valeur commence avec un slash, elle est
	utilis� comme r�ertoire du socket de domaine Unix.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-p <replaceable class="parameter">port</replaceable></></term>
      <term><option>--port <replaceable class="parameter">port</replaceable></></term>
      <listitem>
       <para>
	Sp�ifie le port TCP ou l'extension du fichier socket de domaine Unix
	sur lequel le serveur attend des connexions.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-U <replaceable
	class="parameter">nomutilisateur</replaceable></></term>
      <term><option>--username <replaceable
	class="parameter">nomutilisateur</replaceable></></term>
      <listitem>
       <para>
        Nom utilisateur pour se connecter (pas celui �cr�r).
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-W</></term>
      <term><option>--password</></term>
      <listitem>
       <para>
        Force la demande de mot de passe (pour se connecter au serveur, pas le
	mot de passe du nouvel utilisateur).
       </para>
      </listitem>
     </varlistentry>
   </variablelist>
  </para>
 </refsect1>


 <refsect1>
  <title>Environnement</title>

  <variablelist>
   <varlistentry>
    <term><envar>PGHOST</envar></term>
    <term><envar>PGPORT</envar></term>
    <term><envar>PGUSER</envar></term>

    <listitem>
     <para>
      Param�res de connexion par d�aut
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
 </refsect1>


 <refsect1>
  <title>Diagnostiques</title>

  <para>
   En cas de probl�es, voir <xref linkend="SQL-CREATEROLE"
   endterm="sql-createrole-title"> et <xref linkend="APP-PSQL"> pour des
   discussions sur les probl�es potentiels et les messages d'erreur. Le
   serveur de la base de donn�s doit �re en cours d'ex�ution sur l'h�e
   cible. De plus, tout param�rage de connexion par d�aut et toute variable
   d'environnement utilis�par le client de la biblioth�ue
   <application>libpq</application> s'appliquera.
  </para>

 </refsect1>


 <refsect1>
  <title>Exemples</title>

   <para>
    Pour cr�r un utilisateur <literal>joe</literal> sur le serveur de bases de
    donn�s par d�aut&nbsp;:
<screen>
<prompt>$ </prompt><userinput>createuser joe</userinput>
<computeroutput>Shall the new role be a superuser? (y/n) </computeroutput><userinput>n</userinput>
<computeroutput>Shall the new role be allowed to create databases? (y/n) </computeroutput><userinput>n</userinput>
<computeroutput>Shall the new role be allowed to create more new roles? (y/n) </computeroutput><userinput>n</userinput>
<computeroutput>CREATE USER</computeroutput>
</screen>
   </para>

   <para>
    Pour cr�r le m�e utilisateur <literal>joe</literal> en utilisant le
    serveur <literal>eden</>, port 5000, en �itant les demandes et en jetant
    un &oelig;il �la commande sous-jacente&nbsp;:
<screen>
<prompt>$ </prompt><userinput>createuser -h eden -p 5000 -S -D -R -e joe</userinput>
<computeroutput>CREATE ROLE joe NOSUPERUSER NOCREATEDB NOCREATEROLE INHERIT LOGIN;</computeroutput>
<computeroutput>CREATE ROLE</computeroutput>
</screen>
   </para>

   <para>
    Pour cr�r l'utilisateur <literal>joe</literal> en tant que
    superutilisateur et pour lui affecter imm�iatement un mot de passe&nbsp;:
<screen>
<prompt>$ </prompt><userinput>createuser -P -s -e joe</userinput>
<computeroutput>Enter password for new role: </computeroutput><userinput>xyzzy</userinput>
<computeroutput>Enter it again: </computeroutput><userinput>xyzzy</userinput>
<computeroutput>CREATE ROLE joe PASSWORD 'xyzzy' SUPERUSER CREATEDB CREATEROLE INHERIT LOGIN;</computeroutput>
<computeroutput>CREATE ROLE</computeroutput>
</screen>
    Dans l'exemple ci-dessus, le nouveau mot de passe n'est pas r�llement
    affich�lorsqu'il est saisi mais nous l'affichons ici pour plus de claret�
    N�nmoins, le mot de passe <emphasis>appara�ra</> dans la commande affich�
    comme illustrat� &mdash; donc, n'utilisez pas l'option <literal>-e</>
    lorsque vous affectez un mot de passe si quelqu'un d'autre peut voir votre
    �ran.
   </para>
 </refsect1>


 <refsect1>
  <title>Voir aussi</title>

  <simplelist type="inline">
   <member><xref linkend="app-dropuser"></member>
   <member><xref linkend="sql-createrole" endterm="sql-createrole-title"></member>
   <member>Variables d'environnement (<xref linkend="libpq-envars">)</member>
  </simplelist>
 </refsect1>

</refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:nil
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
sgml-parent-document:nil
sgml-default-dtd-file:"../reference.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:"/usr/lib/sgml/catalog"
sgml-local-ecat-files:nil
End:
-->