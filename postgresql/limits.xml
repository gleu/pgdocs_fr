<?xml version="1.0" encoding="UTF-8"?>
<!-- doc/src/sgml/limits.sgml -->

<appendix id="limits">
 <title>Limites <productname>PostgreSQL</productname></title>

 <para>
  <xref linkend="limits-table"/> décrit les diverses limites dures de
  <productname>PostgreSQL</productname>. Cependant, les limites physiques
  telles que les limitations de performance ou l'espace disque disponible
  peuvent s'appliquer avant que des limites dures absolues soient atteintes.
 </para>

 <table id="limits-table">
  <title>Limitations <productname>PostgreSQL</productname></title>
  <tgroup cols="3">
   <thead>
    <row>
     <entry>Item</entry>
     <entry>Limite supérieure</entry>
     <entry>Commentaire</entry>
    </row>
   </thead>

   <tbody>
    <row>
     <entry>taille de la base de données</entry>
     <entry>illimitée</entry>
     <entry></entry>
    </row>

    <row>
     <entry>nombre de bases de données</entry>
     <!-- 2^32 - FirstNormalObjectId - 1 -->
     <entry>4,294,950,911</entry>
     <entry></entry>
    </row>

    <row>
     <entry>relations par base de données</entry>
     <!-- (2^32 - FirstNormalObjectId - 1) / 3 (3 because of the table and the
          two types that are created to go with it) -->
     <entry>1,431,650,303</entry>
     <entry></entry>
    </row>

    <row>
     <entry>taille d'une relation</entry>
     <entry>32 TB</entry>
     <entry> Avec un <symbol>BLCKSZ</symbol> par défaut de 8192 octets</entry>
    </row>

    <row>
     <entry>lignes par table</entry>
     <entry>limité par le nombre de tuples qui peuvent être contenus dans 4,294,967,295 pages</entry>
     <entry></entry>
    </row>

    <row>
     <entry>colonnes par table</entry>
     <entry>1600</entry>
     <entry>aussi limité par la taille de tuple contenu dans une simple page; voir la note ci dessous
     </entry>
    </row>

    <row>
     <entry>taille de champs</entry>
     <entry>1 GB</entry>
     <entry></entry>
    </row>

    <row>
     <entry>longueur de l'identifiant</entry>
     <entry>63 octets</entry>
     <entry>peut être augmenté en recompilant <productname>PostgreSQL</productname></entry>
    </row>

    <row>
     <entry>index par table</entry>
     <entry>illimitée</entry>
     <entry>limité par le nombre maximum de relation par base de données</entry>
    </row>

    <row>
     <entry>colonnes par index</entry>
     <entry>32</entry>
     <entry>peut être augmenté en recompilant <productname>PostgreSQL</productname></entry>
    </row>

   <row>
    <entry>clé de partition</entry>
    <entry>32</entry>
     <entry>peut être augmenté en recompilant <productname>PostgreSQL</productname></entry>
   </row>
   </tbody>
  </tgroup>
 </table>

 <para>
  Le nombre maximum de colonnes pour une table et d'autant plus réduit que le
  tuple stocké doit être contenu dans une simple page de 8192-octets.
  Par exemple, sans compter l'entête du tuple, un tuple constitué de 1600 colonnes de type
  <type>int</type> consommera 6400 octets et peut être stockés dans une page, mais un tuple
  constitué de 1600 colonnes de type <type>bigint</type> consommera 12800 octets et
  ne pourra pas tenir dans la page.
  Les champs de longueur variable de type tel que <type>text</type>, <type>varchar</type>,
  et <type>char</type> peuvent avoir leurs valeurs stockées à l'extérieur dans une 
  table TOAST lorsque cette valeur est suffisament importante pour que cela se produise.
  Un pointeur 18-octet doit rester à l'intérieur du tuple dans la table. Pour des longueurs
  moins importantes de champs à longueur variable, un champ entête de 4-octets ou 1-octet est
  utilisé et la valeur est stockée à l'intérieur du tuple.
 </para>

 <para>
  Les colonnes qui ont été supprimées de la table participent aussi à la limite
  maximum de colonnes. De plus, bien que les valeurs des colonnes supprimées
  pour les nouveaux tuples créés soient marqués en interne comme null, ainsi que
  dans la bitmap null du tuple, cette bitmap null consomme de l'espace.
 </para>
</appendix>
