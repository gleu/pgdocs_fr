<?xml version="1.0" encoding="UTF-8"?>
<refentry id="app-pgdump">
 <indexterm zone="app-pgdump">
  <primary>pg_dump</primary>
 </indexterm>

 <refmeta>
  <refentrytitle><application>pg_dump</application></refentrytitle>
  <manvolnum>1</manvolnum>
  <refmiscinfo>Application</refmiscinfo>
 </refmeta>

 <refnamediv>
  <refname>pg_dump</refname>

  <refpurpose>
   exporter une base de données <productname>PostgreSQL</productname> sous forme
   de script SQL ou dans d'autres formats
  </refpurpose>
 </refnamediv>

 <refsynopsisdiv>
  <cmdsynopsis>
   <command>pg_dump</command>
   <arg rep="repeat"><replaceable>option_connexion</replaceable></arg>
   <arg rep="repeat"><replaceable>option</replaceable></arg>
   <arg choice="opt"><replaceable>nom_base</replaceable></arg>
  </cmdsynopsis>
 </refsynopsisdiv>


 <refsect1 id="pg-dump-description">
  <title>
   Description
  </title>

  <para>
   <application>pg_dump</application> est un outil d'export d'une base de
   données <productname>PostgreSQL</productname>. Les exports réalisés
   sont cohérents, même lors d'accès concurrents à la base de données.
   <application>pg_dump</application> ne bloque pas l'accès des autres
   utilisateurs (ni en lecture ni en écriture).
   Notez toutefois que, sauf dans des cas simples,
   <application>pg_dump</application> n'est généralement pas le choix le plus adapté
   pour effectuer des sauvegardes régulières de bases de données en production.
   Consultez <xref linkend="backup"/> pour plus d'informations à ce sujet.
  </para>

  <para>
   <application>pg_dump</application> n'exporte qu'une seule base de
   données. Pour exporter une instance complète, ou pour exporter les
   objets globaux communs à toutes les bases de données d'une même instance
   (tels que les rôles et les tablespaces), utilisez <xref
   linkend="app-pg-dumpall"/>.
  </para>

  <para>
   Les extractions peuvent être réalisées sous la forme de scripts ou de
   fichiers d'archive. Les scripts sont au format texte et contiennent les
   commandes SQL nécessaires à la reconstruction de la base de données dans
   l'état où elle se trouvait au moment de l'export. La restauration s'effectue
   en exécutant ces scripts avec <xref linkend="app-psql"/>. Ces scripts
   permettent de reconstruire la base de données sur d'autres machines et
   d'autres architectures, et même, moyennant quelques modifications, sur
   d'autres systèmes de gestion de bases de données SQL.
  </para>

  <para>
   La reconstruction de la base de données à partir d'autres formats de
   fichiers d'archive s'effectue avec <xref linkend="app-pgrestore"/>.
   <application>pg_restore</application> permet, à partir de ces formats, de
   sélectionner les éléments à restaurer, voire de les réorganiser avant la
   restauration. Les fichiers d'archive sont conçus pour être portables entre
   différentes architectures.
  </para>

  <para>
   Utilisé avec l'un des formats de fichier d'archive et combiné avec
   <application>pg_restore</application>, <application>pg_dump</application>
   fournit un mécanisme d'archivage et de transfert flexible.
   <application>pg_dump</application> peut être utilisé pour exporter une
   base de données dans son intégralité&nbsp;;
   <application>pg_restore</application> peut alors servir à examiner
   l'archive et/ou à sélectionner les parties de la base de données à restaurer.
   Les formats de sortie les plus flexibles sont le format
   <quote>custom</quote> (<option>-Fc</option>) et le format
   <quote>directory</quote> (<option>-Fd</option>). Ils permettent de
   sélectionner et de réorganiser tous les éléments archivés, prennent en charge
   la restauration en parallèle, et sont compressés par défaut.
   Le format <quote>directory</quote> est aussi le seul format à permettre les
   exports parallélisés.
  </para>

  <para>
   Lors de l'exécution de <application>pg_dump</application>, il est utile de
   surveiller les messages d'avertissement (affichés sur la sortie erreur
   standard), en particulier en ce qui concerne les limitations indiquées
   ci-dessous.
  </para>

  <warning>
   <para>
    Restaurer une sauvegarde fait que la destination exécute du code arbitraire.
    Les sauvegardes et restaurations partielles ne limitent pas cela. S'il n'est
    pas possible de faire confiance aux superutilisateurs de la source, les
    requêtes SQL de restauration doivent être inspectées avant d'être exécutées.
    Les sauvegardes binaires peuvent être inspectées en utilisant l'option
    <option>--file</option> de <application>pg_restore</application>. Notez que
    le client exécutant la sauvegarde et la restauration n'a pas besoin de
    faire confiance aux superutilisateurs source et destination.
   </para>
  </warning>
 </refsect1>

 <refsect1 id="pg-dump-options">
  <title>Options</title>

  <para>
   Les options en ligne de commande suivantes contrôlent le contenu et le
   format de la sortie.

   <variablelist>
    <varlistentry>
     <term><replaceable class="parameter">nom_base</replaceable></term>
     <listitem>
      <para>
       Le nom de la base de données à exporter. Si ce paramètre n'est pas précisé,
       la variable d'environnement <envar>PGDATABASE</envar> est utilisée. Si
       celle-ci n'est pas définie, le nom d'utilisateur spécifié pour la
       connexion est utilisé.
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>-a</option></term>
     <term><option>--data-only</option></term>
     <listitem>
      <para>
       Seules les données sont exportées, et non le schéma (définitions des
       données) ni les statistiques. Les données des tables, les Large Objects,
       et les valeurs des séquences sont exportés.
      </para>

      <para>
       Cette option est similaire à <option>--section=data</option> mais, pour
       des raisons historiques, elle n'est pas identique.
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>-b</option></term>
     <term><option>--large-objects</option></term>
     <term><option>--blobs</option> (obsolète)</term>
     <listitem>
      <para>
       Inclut les « Large Objects » dans l'export. C'est le comportement par
       défaut, sauf si une des options suivantes est ajoutée&nbsp;:
       <option>--schema</option>, <option>--table</option>,
       <option>--schema-only</option>, <option>--statistics-only</option> ou
       <option>--no-data</option>. L'option <option>-b</option> n'est de
       ce fait utile que pour ajouter des Large Objects aux sauvegardes pour
       lesquelles un schéma particulier ou une table particulière a été
       demandée. Notez que les Large Objects sont considérés comme des données
       et, de ce fait, seront inclus si <option>--data-only</option> est
       utilisé, mais pas quand <option>--schema-only</option> ou
       <option>--statistics-only</option> l'est.
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>-B</option></term>
     <term><option>--no-large-objects</option></term>
     <term><option>--no-blobs</option> (obsolète)</term>
     <listitem>
      <para>
       Exclut les « Large Objects » de l'export.
      </para>

      <para>
       Lorsque les options <option>-b</option> et <option>-B</option> sont
       toutes deux spécifiées, le comportement est d'inclure les « Large Objects »
       lors de l'export des données. Voir la documentation de <option>-b</option>
       pour plus de détails.
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>-c</option></term>
     <term><option>--clean</option></term>
     <listitem>
      <para>
       Les commandes de suppression (<command>DROP</command>) des objets de la
       base sont écrites avant les commandes de création.
       Cette option est utile quand la restauration doit écraser une base existante.
       Si certains objets n'existent pas dans la base de destination, des messages
       d'erreur, à ignorer, seront renvoyés lors de la restauration sauf si
       l'option <option>--if-exists</option> est aussi précisée.
      </para>

      <para>
       Cette option n'a d'intérêt que pour le format texte. Pour les formats
       archive, l'option est précisée à l'appel de
       <command>pg_restore</command>.
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>-C</option></term>
     <term><option>--create</option></term>
     <listitem>
      <para>
       La sortie commence par une commande de création de la base de données,
       suivie d'une connexion à cette base nouvellement créée. Avec un tel script,
       peu importe la base à laquelle on est connecté avant l'exécution du script.
       Si <option>--clean</option> est également spécifiée, le script supprime
       puis recrée la base de données cible avant de s'y reconnecter.
      </para>

      <para>
       Avec <option>--create</option>, la sortie inclut aussi le commentaire
       associé à la base de données, s'il existe, et toute variable de
       configuration spécifique à cette base de données, configurée via les
       commandes <command>ALTER DATABASE ... SET ...</command> et
       <command>ALTER ROLE ... IN DATABASE ... SET ...</command> la mentionnant.
       Les droits d'accès à la base elle-même sont aussi exportés,
       sauf si <option>--no-acl</option> est spécifié.
      </para>

      <para>
       Cette option n'a d'intérêt que pour le format texte. Pour les formats
       archive, l'option est précisée à l'appel de
       <command>pg_restore</command>.
      </para>
     </listitem>
    </varlistentry>

     <varlistentry>
      <term><option>-e <replaceable class="parameter">motif</replaceable></option></term>
      <term><option>--extension=<replaceable class="parameter">motif</replaceable></option></term>
      <listitem>
       <para>
        Exporte uniquement les extensions correspondantes au
        <replaceable class="parameter">motif</replaceable> spécifié.
        Sans cette option, toutes les extensions non système de la base de
        données cible seront exportées. Plusieurs extensions peuvent être
        sélectionnées en répétant le paramètre <option>-e</option>.
        Le <replaceable class="parameter">motif</replaceable> est interprété
        selon les mêmes règles que les commandes <literal>\d</literal>
        de <application>psql</application> (voir <xref linkend="app-psql-patterns"/>),
        ce qui permet ainsi de sélectionner plusieurs extensions à l'aide de
        jokers. Dans ce cas, prenez soin d'encadrer le motif de guillemets
        simples si nécessaire, pour empêcher le shell de les interpréter.
       </para>

       <para>
        Toute table de configuration enregistrée via
        <function>pg_extension_config_dump</function> est incluse dans l'export
        si son extension est spécifiée dans <option>--extension</option>.
       </para>

       <note>
        <para>
         Quand <option>-e</option> est spécifié, <application>pg_dump</application>
         ne tente pas d'exporter les autres objets dont l'extension pourrait
         dépendre. Il n'est donc pas garanti qu'un export limité à une extension
         spécifique puisse être restauré avec succès dans une base de données vide.
        </para>
       </note>
      </listitem>
     </varlistentry>

    <varlistentry>
     <term><option>-E <replaceable class="parameter">codage</replaceable></option></term>
     <term><option>--encoding=<replaceable class="parameter">codage</replaceable></option></term>
     <listitem>
      <para>
       L'export est créé dans l'encodage indiqué. Par défaut, l'export
       utilise celui de la base de données. Le même résultat peut
       être obtenu en définissant la variable d'environnement
       <envar>PGCLIENTENCODING</envar> avec l'encodage souhaité.
       Les encodages supportés sont décrits dans <xref
       linkend="multibyte-charset-supported"/>.
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>-f <replaceable class="parameter">fichier</replaceable></option></term>
     <term><option>--file=<replaceable class="parameter">fichier</replaceable></option></term>
     <listitem>
      <para>
       La sortie est redirigée vers le fichier spécifié. Ce paramètre peut être
       omis pour les formats de sortie basés sur des fichiers, auquel cas la
       sortie standard sera utilisée. Par contre, il doit être précisé pour le
       format 'directory' (répertoire), où il désigne le répertoire cible plutôt
       qu'un fichier. Dans ce cas, le répertoire est créé par
       <command>pg_dump</command> et ne doit pas exister au préalable.
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>-F <replaceable class="parameter">format</replaceable></option></term>
     <term><option>--format=<replaceable class="parameter">format</replaceable></option></term>
     <listitem>
      <para>
       Sélectionne le format de la sortie.
       <replaceable>format</replaceable> peut être l'un des éléments suivants&nbsp;:

       <variablelist>
        <varlistentry>
         <term><literal>p</literal></term>
         <listitem>
          <para>
           Fichier de scripts <acronym>SQL</acronym> en texte simple (défaut).
          </para>
         </listitem>
        </varlistentry>

        <varlistentry>
         <term><literal>c</literal></term>
         <listitem>
          <para>
           Archive personnalisée utilisable par
           <application>pg_restore</application>. Avec le format de sortie
           répertoire, c'est le format le plus souple, car il permet la
           sélection manuelle et la réorganisation des objets archivés au
           moment de la restauration. Ce format est aussi compressé par
           défaut.
          </para>
         </listitem>
        </varlistentry>

        <varlistentry>
         <term><literal>d</literal></term>
         <term><literal>directory</literal></term>
         <listitem>
          <para>
           Archive au format répertoire utilisable par
           <application>pg_restore</application>. Cela créera un répertoire
           avec un fichier pour chaque table et Large Object exporté, ainsi qu'un
           fichier appelé Table of Contents (table des matières) décrivant les
           objets exportés dans un format machine que
           <application>pg_restore</application> peut lire. Une archive au
           format répertoire peut être manipulée avec des outils Unix
           standard&nbsp;; par exemple, les fichiers d'une archive non-compressée
           peuvent être compressés avec les outils
           <application>gzip</application>,
           <application>lz4</application> ou
           <application>zstd</application>.
           Ce format est compressé par défaut en utilisant <literal>gzip</literal>
           et supporte aussi les exports parallélisés.
          </para>
         </listitem>
        </varlistentry>

        <varlistentry>
         <term><literal>t</literal></term>
         <listitem>
          <para>
           Archive <command>tar</command> utilisable par
           <application>pg_restore</application>. Le format tar est compatible
           avec le format répertoire&nbsp;; l'extraction d'une archive au format
           tar produit une archive au format répertoire valide. Toutefois, le
           format tar ne supporte pas la compression. Par ailleurs, lors de
           l'utilisation du format tar, l'ordre de restauration des données
           des tables ne peut pas être changé au moment de la restauration.
          </para>
         </listitem>
        </varlistentry>

       </variablelist>
      </para>

     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>-j <replaceable class="parameter">njobs</replaceable></option></term>
     <term><option>--jobs=<replaceable class="parameter">njobs</replaceable></option></term>
     <listitem>
      <para>
       Exécute l'export en parallèle en traitant <replaceable
       class="parameter">njobs</replaceable> tables simultanément. Cette option
       peut réduire le temps nécessaire à l'export, mais elle augmente également
       la charge sur le serveur de base de données. Cette option n'est utilisable
       qu'avec le format de sortie répertoire, car c'est le seul format permettant
       à plusieurs processus d'écrire leurs données en parallèle.
      </para>

      <para>
       <application>pg_dump</application> ouvrira <replaceable
       class="parameter">njobs</replaceable> + 1 connexions à la base de
       données. Assurez-vous donc que la valeur de <xref
       linkend="guc-max-connections"/> est configurée suffisamment haut pour
       permettre autant de connexions.
      </para>

      <para>
       Réclamer des verrous exclusifs sur les objets de la base pendant un
       export en parallèle peut provoquer l'échec de l'export.
       Cela s'explique par le fait que le processus principal de
       <application>pg_dump</application> réclame des verrous partagés
       (<link linkend="locking-tables">ACCESS SHARE</link>) sur les
       objets que les processus fils vont traiter plus tard, afin de s'assurer
       que personne ne les supprime pendant l'export. Si un autre client demande
       ensuite un verrou exclusif sur une table, ce verrou ne pourra pas être accordé
       immédiatement et sera mis en attente jusqu'à ce que le verrou partagé du
       processus principal soit libéré. Par conséquent, tout autre accès à la
       table ne sera pas non plus accepté et sera mis en attente, derrière la
       demande de verrou exclusif. Cela inclut le processus fils essayant
       d'exporter la table. Sans autre précaution, cela résulterait donc en un
       classique « deadlock ». Pour détecter ce conflit, le processus fils de
       <application>pg_dump</application> demande à son tour un verrou partagé,
       en utilisant l'option <literal>NOWAIT</literal>. Si ce verrou ne peut pas
       être obtenu, cela signifie qu'un autre client a probablement demandé un
       verrou exclusif entre-temps, et il n'est alors plus possible de poursuivre
       l'export. Dans ce cas, <application>pg_dump</application> n'a pas d'autre
       choix que d'interrompre l'export.
      </para>

      <para>
       Pour effectuer un export en parallèle, le serveur de base de données doit
       supporter les instantanés (« snapshots ») synchronisées.
       Cette fonctionnalité a été introduite avec
       <productname>PostgreSQL</productname> version 9.2 pour les serveurs
       primaires et version 10 pour les serveurs secondaires. Grâce à cette
       fonctionnalité, les clients peuvent s'assurer qu'ils accèdent au même
       jeu de données, même s'ils utilisent des connexions différentes.
       <command>pg_dump -j</command> utilise plusieurs connexions
       à la base de données&nbsp;; une pour le processus principal, et une autre
       pour chaque processus fils.
       Sans la fonctionnalité d'instantanés synchronisées, rien ne garantit que
       les différents processus voient les mêmes données via leurs connexions
       respectives, ce qui pourrait conduire à un export incohérent.
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>-n <replaceable class="parameter">motif</replaceable></option></term>
     <term><option>--schema=<replaceable class="parameter">motif</replaceable></option></term>
     <listitem>
      <para>
       Exporte uniquement les schémas correspondants au <replaceable
       class="parameter">motif</replaceable> spécifié&nbsp;; cela inclut à la fois
       le schéma lui-même et tous les objets qu'il contient. Quand cette option
       n'est pas indiquée, tous les schémas non système de la base cible sont
       exportés. Plusieurs schémas peuvent être indiqués en répétant
       l'option <option>-n</option>.
       Le <replaceable class="parameter">motif</replaceable> est interprété
       selon les mêmes règles que les commandes <literal>\d</literal>
       de <application>psql</application> (voir <xref linkend="app-psql-patterns"/>),
       ce qui permet ainsi de sélectionner plusieurs schémas à l'aide de
       jokers. Dans ce cas, prenez soin d'encadrer le motif de guillemets
       simples si nécessaire, pour empêcher le shell de les interpréter.
       Voir <xref linkend="pg-dump-examples"/> ci-dessous.
      </para>

      <note>
       <para>
        Quand <option>-n</option> est spécifié, <application>pg_dump</application>
        ne tente pas d'exporter les autres objets dont le schéma pourrait
        dépendre. Il n'est donc pas garanti qu'un export limité à un schéma
        spécifique puisse être restauré avec succès dans une base de données vide.
       </para>
      </note>

      <note>
       <para>
        Les objets qui ne font pas partie du schéma comme les Large Objects ne
        sont pas exportés quand <option>-n</option> est spécifié. Ils
        peuvent être rajoutés avec l'option <option>--large-objects</option>.
       </para>
      </note>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>-N <replaceable class="parameter">motif</replaceable></option></term>
     <term><option>--exclude-schema=<replaceable class="parameter">motif</replaceable></option></term>
     <listitem>
      <para>
       N'exporte aucun schéma correspondant au <replaceable
       class="parameter">motif</replaceable> spécifié. Le motif est interprété selon
       les même règles que <option>-n</option>. <option>-N</option> peut aussi
       être répété pour exclure des schémas correspondants à différents motifs.
      </para>

      <para>
       Lorsque les options <option>-n</option> et <option>-N</option> sont toutes
       deux spécifiées, seuls les schémas correspondants à au moins une option
       <option>-n</option> mais à aucune option <option>-N</option> sont exportés.
       Si <option>-N</option> est utilisé sans <option>-n</option>,
       alors les schémas correspondants à <option>-N</option> sont simplement
       exclus de l'export normal.
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>-O</option></term>
     <term><option>--no-owner</option></term>
     <listitem>
      <para>
       N'émet pas les commandes destinées à définir les propriétaires des objets
       conformément à ceux de la base de données d'origine.
       Par défaut, <application>pg_dump</application> génère des instructions
       <command>ALTER OWNER</command> ou <command>SET SESSION
        AUTHORIZATION</command> pour rétablir la propriété des objets créés.
       Ces instructions échoueront lors de l'exécution du script, sauf si
       celui-ci est lancé par un superutilisateur ou par l'utilisateur
       propriétaire de tous les objets. L'option
       <option>-O</option> est utilisée pour créer un script qui puisse être
       restauré par n'importe quel utilisateur. En revanche, c'est cet
       utilisateur qui devient propriétaire de tous les objets.
      </para>

      <para>
       Cette option n'a d'intérêt que pour le format texte. Pour les formats
       archive, l'option est précisée à l'appel de
       <command>pg_restore</command>.
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>-R</option></term>
     <term><option>--no-reconnect</option></term>
     <listitem>
      <para>
       Cette option est obsolète mais toujours acceptée pour des raisons de
       compatibilité ascendante.
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>-s</option></term>
     <term><option>--schema-only</option></term>
     <listitem>
      <para>
       Exporte uniquement les définitions des objets (le schéma), sans les
       données ni les statistiques.
      </para>

      <para>
       Cette option ne peut pas être utilisée avec <option>--data-only</option>
       ni avec <option>--statistics-only</option>. Elle est similaire à
       <option>--section=pre-data --section=post-data</option>, mais pour des
       raisons historiques, elle n'est pas strictement identique.
      </para>

      <para>
       (Ne pas la confondre avec l'option <option>--schema</option> qui
       utilise le mot <quote>schema</quote> dans un contexte différent.)
      </para>

      <para>
       Pour exclure les données de certaines tables seulement, voir
       <option>--exclude-table-data</option>.
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>-S <replaceable class="parameter">nom_utilisateur</replaceable></option></term>
     <term><option>--superuser=<replaceable class="parameter">nom_utilisateur</replaceable></option></term>
     <listitem>
      <para>
       Spécifie le nom de l'utilisateur superutilisateur à utiliser lors de la
       désactivation des triggers. Cela n'a d'intérêt que si l'option
       <option>--disable-triggers</option> est précisée. (En règle générale,
       il est préférable de ne pas utiliser cette option et de lancer le
       script généré en tant que superutilisateur.)
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>-t <replaceable class="parameter">motif</replaceable></option></term>
     <term><option>--table=<replaceable class="parameter">motif</replaceable></option></term>
     <listitem>
      <para>
       Exporte uniquement les tables dont le nom correspond au <replaceable
       class="parameter">motif</replaceable>. Plusieurs tables sont sélectionnables
       en utilisant plusieurs fois l'option <option>-t</option>.
       Le <replaceable class="parameter">motif</replaceable> est interprété
       selon les mêmes règles que les commandes <literal>\d</literal>
       de <application>psql</application> (voir <xref linkend="app-psql-patterns"/>),
       ce qui permet ainsi de sélectionner plusieurs tables à l'aide de
       jokers. Dans ce cas, prenez soin d'encadrer le motif de guillemets
       simples si nécessaire, pour empêcher le shell de les interpréter.
       Voir <xref linkend="pg-dump-examples"/> ci-dessous.
      </para>

      <para>
       En plus des tables, cette option permet également d'exporter
       la définition des vues, vues matérialisées, tables externes et
       séquences correspondantes au motif. Elle n'exporte pas le contenu des
       vues ou des vues matérialisées, et le contenu des tables externes n'est
       exporté que si le serveur distant correspondant est spécifié avec
       l'option <option>--include-foreign-data</option>.
      </para>

      <para>
       Les options <option>-n</option> et <option>-N</option> n'ont aucun
       effet quand l'option <option>-t</option> est utilisée car les tables
       sélectionnées par <option>-t</option> sont exportées quelle que soit
       la valeur des options relatives aux schémas. Les objets qui ne sont pas
       des tables ne sont pas exportés.
      </para>

      <note>
       <para>
        Quand <option>-t</option> est spécifié, <application>pg_dump</application>
        ne tente pas d'exporter les autres objets dont la table pourrait
        dépendre. Il n'est donc pas garanti qu'un export limité à une table
        spécifique puisse être restauré avec succès dans une base de données vide.
       </para>
      </note>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>-T <replaceable class="parameter">motif</replaceable></option></term>
     <term><option>--exclude-table=<replaceable class="parameter">motif</replaceable></option></term>
     <listitem>
      <para>
       N'exporte aucune table correspondante au <replaceable
       class="parameter">motif</replaceable> spécifié. Le motif est interprété
       selon les mêmes règles que pour l'option <option>-t</option>.
       L'option <option>-T</option> peut être répétée pour exclure plusieurs
       tables correspondantes à différents motifs.
      </para>

      <para>
       Lorsque les options <option>-t</option> et <option>-T</option> sont toutes
       deux spécifiées, seuls les tables correspondantes à au moins une option
       <option>-t</option> mais à aucune option <option>-T</option> sont exportées.
       Si <option>-T</option> est utilisé sans <option>-t</option>,
       alors les tables correspondantes à <option>-N</option> sont simplement
       exclues de l'export normal.
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>-v</option></term>
     <term><option>--verbose</option></term>
     <listitem>
      <para>
       Mode verbeux. <application>pg_dump</application> inclut des
       commentaires détaillés sur les objets et les heures de début et de fin
       dans le fichier d'export. Des messages de progression sont
       également affichés sur la sortie d'erreur standard.
       Répéter l'option entraîne l'apparition de messages de débogage
       supplémentaires sur la sortie d'erreur standard.
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>-V</option></term>
     <term><option>--version</option></term>
     <listitem>
      <para>
       Affiche la version de <application>pg_dump</application> puis quitte.
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>-x</option></term>
     <term><option>--no-privileges</option></term>
     <term><option>--no-acl</option></term>
     <listitem>
      <para>
       Les droits d'accès (commandes grant/revoke) ne sont pas exportés.
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>-Z <replaceable class="parameter">niveau</replaceable></option></term>
     <term><option>-Z <replaceable class="parameter">method</replaceable></option>[:<replaceable>detail</replaceable>]</term>
     <term><option>--compress=<replaceable class="parameter">level</replaceable></option></term>
     <term><option>--compress=<replaceable class="parameter">method</replaceable></option>[:<replaceable>detail</replaceable>]</term>
     <listitem>
      <para>
       Spécifie la méthode de compression et/ou le niveau de compression à
       utiliser. La méthode de compression peut être <literal>gzip</literal>,
       <literal>lz4</literal>, <literal>zstd</literal>,
       ou <literal>none</literal> pour désactiver la compression.
       Des détails pour la compression peuvent être précisés. Si c'est un
       entier, cela correspond au niveau de compression. Autrement, il s'agit
       d'une liste d'éléments séparés par des virgules pouvant prendre la forme
       <literal>clé</literal> ou <literal>clé=valeur</literal>.
       Actuellement, les mots clés supportés sont <literal>level</literal> et
       <literal>long</literal>.
      </para>

      <para>
       Si aucun niveau de compression n'est spécifié, le niveau de compression
       par défaut sera utilisé. Si seul un niveau est spécifié sans mentionner
       d'algorithme, la compression <literal>gzip</literal> sera utilisée si le
       niveau est supérieur à <literal>0</literal>, et aucune compression ne
       sera utilisée si le niveau est <literal>0</literal>.
      </para>

      <para>
       Pour les formats <quote>custom</quote> et <quote>directory</quote>, ce
       paramètre spécifie la compression des segments de données de table
       individuellement, et par défaut la compression se fait à l'aide de
       <literal>gzip</literal> à un niveau modéré. Pour le format texte simple,
       la définition d'un niveau de compression non nul entraîne la
       compression de l'ensemble du fichier de sortie, comme s'il était passé
       par <application>gzip</application>,
       <application>lz4</application>, ou <application>zstd</application>&nbsp;;
       mais par défaut, il n'y a pas de compression.
       Avec la compression zstd, le mode <literal>long</literal> peut améliorer
       le taux de compression, au prix d'une utilisation accrue de la mémoire.
      </para>

      <para>
       Le format d'archive tar ne supporte pas la compression.
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>--binary-upgrade</option></term>
     <listitem>
      <para>
       Cette option est destinée à être utilisée par les utilitaires de mise à
       jour en ligne. Son utilisation dans d'autres buts n'est ni recommandée ni
       supportée. Le comportement de cette option peut changer dans les
       futures versions sans avertissement.
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>--column-inserts</option></term>
     <term><option>--attribute-inserts</option></term>
     <listitem>
      <para>
       Extrait les données en tant que commandes <command>INSERT</command>
       avec des noms de colonnes explicites (<literal>INSERT INTO
        <replaceable>table</replaceable> (<replaceable>colonne</replaceable>,
        ...) VALUES ...</literal>). Ceci rendra la restauration très
       lente&nbsp;; c'est surtout utile pour créer des exports qui
       puissent être chargés dans des bases de données autres que
       <productname>PostgreSQL</productname>. Toute erreur lors du
       rechargement causera la perte uniquement des lignes faisant partie du
       <command>INSERT</command> problématique, et pas du contenu complet de
       la table.
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>--disable-dollar-quoting</option></term>
     <listitem>
      <para>
       Cette option désactive l'utilisation du caractère dollar comme
       délimiteur de corps de fonctions, et force leur délimitation en tant
       que chaîne SQL standard.
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>--disable-triggers</option></term>
     <listitem>
      <para>
       Cette option ne s'applique que dans le cas d'un export incluant les
       données mais pas la structure.
       Ceci demande à <application>pg_dump</application> d'inclure des
       commandes pour désactiver temporairement les triggers sur les tables
       cibles pendant que les données sont rechargées. Utilisez cette option si,
       sur vos tables, vous avez des contraintes d'intégrité ou des triggers que
       vous ne voulez pas invoquer pendant le rechargement.
      </para>

      <para>
       À l'heure actuelle, les commandes émises par
       <option>--disable-triggers</option> doivent être exécutées en tant que
       superutilisateur. Par conséquent, vous devez aussi spécifier un nom de
       superutilisateur avec <option>-S</option>, ou préférablement faire
       attention à lancer le script généré en tant que superutilisateur.
      </para>

      <para>
       Cette option n'a d'intérêt que pour le format texte. Pour les formats
       archive, l'option est précisée à l'appel de
       <command>pg_restore</command>.
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>--enable-row-security</option></term>
     <listitem>
      <para>
       Cette option est seulement utile lors de l'export du contenu
       d'une table disposant du mode de sécurité niveau ligne. Par défaut,
       <application>pg_dump</application> configurera <xref
       linkend="guc-row-security"/> à off pour s'assurer que toutes les
       données de la table soient exportées. Si l'utilisateur n'a pas les
       droits suffisant pour contourner la sécurité niveau ligne, alors une
       erreur est renvoyée. Ce paramètre force
       <application>pg_dump</application> à configurer <xref
       linkend="guc-row-security"/> à on, permettant à l'utilisateur d'exporter
       uniquement les parties de la table auxquelles il a accès.
      </para>

      <para>
       Notez que si vous utilisez actuellement cette option, vous souhaiterez
       probablement que l'export soit effectué au format
       <command>INSERT</command> car l'instruction <command>COPY FROM</command>
       utilisée lors de la restauration ne prend pas en charge la sécurité niveau ligne.
      </para>
     </listitem>
    </varlistentry>

     <varlistentry>
      <term><option>--exclude-extension=<replaceable class="parameter">motif</replaceable></option></term>
      <listitem>
       <para>
        N'exporte pas les extensions correspondantes au <replaceable
        class="parameter">motif</replaceable> spécifié. Le motif est interprété
        selon les mêmes règles que pour l'option <option>-e</option>.
        <option>--exclude-extension</option> peut être utilisé plus d'une fois
        pour exclure des extensions dont le nom correspond à des motifs différents.
       </para>

       <para>
        Lorsque les options <option>-e</option> et <option>--exclude-extension</option>
        sont toutes deux spécifiées, seules les extensions correspondantes à
        au moins une option <option>-e</option> mais à aucune option
        <option>--exclude-extension</option> sont exportées. Si
        <option>--exclude-extension</option> est utilisé sans
        <option>-e</option>, les extensions correspondantes sont simplement
        exclues de l'export normal.
       </para>
      </listitem>
     </varlistentry>

    <varlistentry>
      <term><option>--exclude-table-and-children=<replaceable class="parameter">motif</replaceable></option></term>
     <listitem>
      <para>
       Cette option fonctionne de la même manière que l'option
       <option>-T</option>/<option>--exclude-table</option>, à l'exception
       qu'elle exclut également les partitions et les tables enfants des tables
       dont le nom correspond au <replaceable class="parameter">motif</replaceable>.
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>--exclude-table-data=<replaceable class="parameter">motif</replaceable></option></term>
     <listitem>
      <para>
       N'exporte pas les données des tables correspondantes au
       <replaceable class="parameter">motif</replaceable> spécifié. Le
       motif est interprété selon les même règles que pour l'option
       <option>-t</option>. <option>--exclude-table-data</option> peut être
       répété pour exclure les données de tables dont le nom correspond à
       des motifs différents. Cette option est utile quand vous avez besoin de
       la définition d'une table particulière mais pas de ses données.
      </para>
      <para>
       Pour exclure les données de toutes les tables de la base, voir
       <option>--schema-only</option> ou <option>--statistics-only</option>.
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>--exclude-table-data-and-children=<replaceable class="parameter">motif</replaceable></option></term>
     <listitem>
      <para>
      Cette option fonctionne de la même manière que l'option
      <option>--exclude-table-data</option>, à la différence qu'elle exclut
      également les données des partitions et des tables enfants des tables
      dont le nom correspond au <replaceable class="parameter">motif</replaceable>.
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>--extra-float-digits=<replaceable class="parameter">nchiffres</replaceable></option></term>
     <listitem>
      <para>
       Utilise la valeur spécifiée pour <option>extra_float_digits</option>
       lors de l'export de valeurs en virgule flottante, au lieu de la précision
       maximale disponible. Cette option ne doit pas être utilisée pour des
       exports de routine effectués à des fins de sauvegarde.
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>--filter=<replaceable class="parameter">filename</replaceable></option></term>
     <listitem>
      <para>
       Spécifie un fichier à partir duquel lire les motifs des objets
       à inclure ou à exclure de l'export. Les motifs sont interprétés
       selon les mêmes règles que pour les options correspondantes&nbsp;:
       <option>-t</option>/<option>--table</option>,
       <option>--table-and-children</option>,
       <option>-T</option>/<option>--exclude-table</option> et
       <option>--exclude-table-and-children</option> pour les tables,
       <option>-n</option>/<option>--schema</option> et
       <option>-N</option>/<option>--exclude-schema</option> pour les
       schémas, <option>--include-foreign-data</option> pour les données des
       serveurs distants, <option>--exclude-table-data</option> et
       <option>--exclude-table-data-and-children</option> pour les données
       des tables, et <option>-e</option>/<option>--extension</option> ainsi que
       <option>--exclude-extension</option> pour les extensions. Pour lire
       depuis <literal>STDIN</literal>, utilisez <filename>-</filename>
       comme nom de fichier. L'option <option>--filter</option> peut être
       utilisée en complément des options ci-dessus pour inclure
       ou exclure des objets, et peut également être spécifiée plusieurs fois
       afin d'utiliser plusieurs fichiers de filtre.
      </para>
      <para>
       Le fichier contient un motif d'objet par ligne, selon le format suivant&nbsp;:
<synopsis>
{ include | exclude } { extension | foreign_data | table | table_and_children | table_data | table_data_and_children | schema } <replaceable class="parameter">PATTERN</replaceable>
</synopsis>
      </para>

      <para>
        Le premier mot clé indique si les objets correspondants au motif
        doivent être inclus ou exclus. Le second mot clé précise le
        type d'objet à filtrer à l'aide du motif&nbsp;:
       <itemizedlist>
        <listitem>
         <para>
          <literal>extension</literal>&nbsp;: extensions. Fonctionne
          comme les options <option>-e</option>/<option>--extension</option>
          et <option>--exclude-extension</option>.
         </para>
        </listitem>
        <listitem>
         <para>
          <literal>foreign_data</literal>&nbsp;: données sur des serveurs
          distants. Fonctionne comme l'option
          <option>--include-foreign-data</option>. Ce mot clé ne peut
          être utilisé qu'avec le mot clé <literal>include</literal>.
         </para>
        </listitem>
        <listitem>
         <para>
          <literal>table</literal>&nbsp;: tables. Fonctionne comme les
          options <option>-t</option>/<option>--table</option> et
          <option>-T</option>/<option>--exclude-table</option>.
         </para>
        </listitem>
        <listitem>
         <para>
          <literal>table_and_children</literal>&nbsp;: tables, incluant les
          partitions ou les tables enfants par héritage. Fonctionne
          comme les options <option>--table-and-children</option> et
          <option>--exclude-table-and-children</option>.
         </para>
        </listitem>
        <listitem>
         <para>
          <literal>table_data</literal>: données des tables
          correspondantes au <replaceable>pattern</replaceable>.
          Fonctionne comme l'option <option>--exclude-table-data</option>. Ce
          mot clé ne peut être utilisé qu'avec le mot clé
          <literal>exclude</literal>.
         </para>
        </listitem>
        <listitem>
         <para>
          <literal>table_data_and_children</literal>&nbsp;: données des tables
          correspondantes au <replaceable>pattern</replaceable>,
          ainsi que les partitions ou les tables enfants par héritage de la
          table sélectionnée. Fonctionne comme l'option
          <option>--exclude-table-data-and-children</option>. Ce mot clé ne peut
          être utilisé qu'avec le mot clé <literal>exclude</literal>.
         </para>
        </listitem>
        <listitem>
         <para>
          <literal>schema</literal>&nbsp;: schémas. Fonctionne comme
          les options <option>-n</option>/<option>--schema</option> et
          <option>-N</option>/<option>--exclude-schema</option>.
         </para>
        </listitem>
       </itemizedlist>
      </para>

      <para>
       Les lignes commençant par <literal>#</literal> sont considérées
       comme des commentaires et sont ignorées.
       Des commentaires peuvent aussi être placés à la suite d'une ligne
       contenant un motif d'objet. Les lignes vides sont elles-aussi ignorées.
       Voir <xref linkend="app-psql-patterns"/> pour savoir comment réaliser
       l'échappement dans les motifs.
      </para>

      <para>
       Les fichiers d'exemple sont listés ci-dessous dans la section <xref
       linkend="pg-dump-examples"/>.
      </para>
      </listitem>
     </varlistentry>

    <varlistentry>
     <term><option>--if-exists</option></term>
     <listitem>
      <para>
       Utilise des commandes <literal>DROP ... IF EXISTS</literal> pour
       supprimer des objets dans le mode <option>--clean</option>. Cela
       permet de supprimer les erreurs <quote>does not exist</quote> qui
       seraient renvoyées sinon. Cette option n'est pas valide sauf si
       <option>--clean</option> est aussi indiquée.
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>--include-foreign-data=<replaceable class="parameter">foreignserver</replaceable></option></term>
     <listitem>
      <para>
       Exporte les données de toute table externe dont le serveur distant
       correspond à <replaceable class="parameter">foreignserver</replaceable>.
       Plusieurs serveurs distants peuvent être sélectionnés en répétant
       l'option <option>--include-foreign-data</option>. De plus,
       le paramètre <replaceable class="parameter">foreignserver</replaceable>
       est interprété comme un motif selon les mêmes règles que celles utilisées
       par les commandes <literal>\d</literal> de <application>psql</application>
       (voir <xref linkend="app-psql-patterns"/>), ce qui permet ainsi de
       sélectionner plusieurs serveurs distants en utilisant des caractères
       joker dans le motif. Lors de l'utilisation des jokers, prenez soin
       d'encadrer le motif de guillemets simples si nécessaire, pour empêcher le
       shell de les interpréter&nbsp;; voir <xref linkend="pg-dump-examples"/>
       ci-dessous. Le seule exception est qu'un motif vide n'est pas autorisé.
      </para>

      <note>
       <para>
        L'utilisation de jokers dans <option>--include-foreign-data</option>
        pourrait donner accès à des serveurs distants inattendus. De plus,
        pour utiliser cette option en toute sécurité, assurez-vous que le serveur
        ciblé a un propriétaire de confiance.
       </para>
      </note>

      <note>
       <para>
        Quand <option>--include-foreign-data</option> est précisé,
        <application>pg_dump</application> ne vérifie pas que la table
        externe est accessible en écriture. De ce fait, il n'y a pas de
        garantie que l'export des données de la table distante pourra
        être restauré sans erreurs.
       </para>
      </note>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>--inserts</option></term>
     <listitem>
      <para>
       Extrait les données en tant que commandes <command>INSERT</command>
       (plutôt que <command>COPY</command>). Ceci rendra la restauration très
       lente&nbsp;; c'est surtout utile pour créer des exports qui
       puissent être chargés dans des bases de données autres que
       <productname>PostgreSQL</productname>. Toute erreur lors du
       rechargement causera uniquement la perte des lignes faisant partie du
       <command>INSERT</command> problématique, et pas du contenu complet de
       de la table. Notez que la restauration pourrait échouer
       si vous avez modifié l'ordre des colonnes. L'option
       <option>--column-inserts</option> protège contre les changements
       d'ordre des colonnes au prix de lenteurs supplémentaires.
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>--load-via-partition-root</option></term>
     <listitem>
      <para>
       Lors de l'export de données d'une partition, les instructions
       <command>COPY</command> ou <command>INSERT</command> cibleront la racine
       du partitionnement à laquelle elle appartient, plutôt que la
       partition elle-même. Cela entraîne une réévaluation de la partition
       appropriée pour chaque ligne au moment du chargement. Ceci peut être
       utile lors de la restauration sur un serveur où les lignes ne seraient pas
       forcément réparties dans les mêmes partitions que sur le serveur d'origine.
       Cela peut se produire, par exemple, si la colonne de partitionnement est
       de type text et que les deux systèmes ont des définitions différentes du
       collationnement utilisé pour trier cette colonne.
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>--lock-wait-timeout=<replaceable class="parameter">expiration</replaceable></option></term>
     <listitem>
      <para>
       Ne pas attendre indéfiniment l'acquisition de verrous partagés sur
       les tables au démarrage de l'export. L'opération échoue s'il est
       impossible de verrouiller une table dans le délai spécifié par le
       paramètre <replaceable class="parameter">timeout</replaceable>.
       Le délai peut être exprimé dans l'un des formats acceptés par la commande
       <command>SET statement_timeout</command>. Les formats autorisés dépendent
       de la version du serveur sur laquelle l'export est effectué, mais une
       valeur entière en millisecondes est acceptée par toutes les versions.
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>--no-comments</option></term>
     <listitem>
      <para>
       Ne pas exporter les instructions <command>COMMENT</command>.
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>--no-data</option></term>
     <listitem>
      <para>
       Ne pas exporter les données.
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>--no-policies</option></term>
     <listitem>
      <para>
       Ne pas exporter les politiques de sécurité niveau ligne.
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>--no-publications</option></term>
     <listitem>
      <para>
       Ne pas exporter les publications.
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>--no-schema</option></term>
     <listitem>
      <para>
       Ne pas exporter les schémas (les définitions des données).
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>--no-security-labels</option></term>
     <listitem>
      <para>
       Ne pas exporter les labels de sécurité.
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>--no-statistics</option></term>
     <listitem>
      <para>
       Ne pas exporter les statistiques. C'est le comportement par défaut.
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>--no-subscriptions</option></term>
     <listitem>
      <para>
       Ne pas exporter les souscriptions.
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>--no-sync</option></term>
     <listitem>
      <para>
       Par défaut, <command>pg_dump</command> attend que tous les fichiers
       soient correctement écrits sur disque. Cette option permet à
       <command>pg_dump</command> de rendre la main immédiatement, sans attendre,
       ce qui est plus rapide, mais peut entraîner une corruption de l'export
       en cas d'arrêt brutal du système d'exploitation.
       De manière générale, cette option est utile pour les tests, mais ne
       doit pas être utilisée dans un environnement de production.
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>--no-table-access-method</option></term>
     <listitem>
      <para>
       Ne pas générer de commandes pour sélectionner les méthodes d'accès
       aux tables. Avec cette option, tous les objets seront créés en utilisant
       la méthode d'accès par défaut au moment de la restauration.
      </para>

      <para>
       Cette option est ignorée lors de la génération d'un fichier dans un
       format d'archive (non texte). Pour les formats d'archive, vous pouvez
       spécifier cette option lors de l'appel à <command>pg_restore</command>.
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>--no-tablespaces</option></term>
     <listitem>
      <para>
       Ne pas générer de commandes pour sélectionner les tablespaces.
       Avec cette option, tous les objets seront créés dans le tablespace
       par défaut au moment de la restauration.
      </para>

      <para>
       Cette option n'a d'intérêt que pour le format texte. Pour les formats
       archive, l'option est précisée à l'appel de
       <command>pg_restore</command>.
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>--no-toast-compression</option></term>
     <listitem>
      <para>
       Ne pas générer d'instructions pour définir les méthodes de compression
       <acronym>TOAST</acronym>.
       Avec cette option, toutes les colonnes seront restaurées avec la méthode
       de compression par défaut en vigueur au moment de la restauration.
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>--no-unlogged-table-data</option></term>
     <listitem>
      <para>
       Ne pas exporter le contenu des tables et séquences non journalisées
       (unlogged). Cette option n'a aucun effet sur l'export des définitions
       des tables et des séquences (le schéma)&nbsp;; elle supprime uniquement
       l'export des données. Les données des tables et séquences non journalisées
       sont toujours exclues lors d'un export depuis un serveur en standby.
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>--on-conflict-do-nothing</option></term>
     <listitem>
      <para>
       Ajouter <literal>ON CONFLICT DO NOTHING</literal> aux commandes
       <command>INSERT</command>. Cette option n'est seulement valide que si
       <option>--inserts</option>, <option>--column-inserts</option> ou
       <option>--rows-per-insert</option> sont aussi spécifiés.
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>--quote-all-identifiers</option></term>
     <listitem>
      <para>
       Forcer la mise entre guillemets de tous les identifiants. Cette option
       est recommandée lorsqu'on exporte une base de données depuis un serveur
       dont la version majeure de <productname>PostgreSQL</productname> diffère
       de celle de <application>pg_dump</application>, ou lorsque l'export
       est destiné à être rechargé dans une version majeure différente.
       Par défaut, <application>pg_dump</application> ne met entre guillemets
       que les identifiants correspondants à des mots réservés dans sa propre
       version majeure. Cela peut parfois entraîner des problèmes de compatibilité
       avec des serveurs de versions différentes, dont la liste des mots
       réservés peut légèrement varier. L'utilisation de l'option
       <option>--quote-all-identifiers</option> permet d'éviter ce type de problème,
       au prix d'un script d'export moins lisible.
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>--restrict-key=<replaceable class="parameter">restrict_key</replaceable></option></term>
     <listitem>
      <para>
       Utilise la chaîne fournie comme clé de <command>\restrict</command>
       dans <application>psql</application> dans la sortie de la sauvegarde.
       Cela peut seulement être indiqué pour les sauvegardes textes, autrement
       dit quand <option>--format</option> être configuré à
       <literal>plain</literal> ou quand l'option <option>--format</option>
       est omise. Si aucune clé de restriction n'est indiqué,
       <application>pg_dump</application> en générera une aléatoirement si
       nécessaire. Les clés doivent contenir uniquement des caractères
       alphanumériques.
      </para>
      <para>
       Cette option a principalement pour but des tests et d'autres scénarios
       nécessitant une sortie répétable (par exemple pour comparer les fichiers
       de sauvegarde). Ce n'est pas recommandé pour une utilisation standard,
       car un serveur malicieux avec une connaissance de la clé pourrait
       injecter un code arbitraire qui sera exécuté sur la machine qui lance
       <application>psql</application> avec la sauvegarde en sortie.
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>--rows-per-insert=<replaceable class="parameter">nlignes</replaceable></option></term>
     <listitem>
      <para>
       Exporter les données sous la forme de commandes
       <command>INSERT</command> (au lieu de <command>COPY</command>).
       Contrôle le nombre maximum de lignes par commande
       <command>INSERT</command>. La valeur indiquée doit être strictement
       positive. Toute erreur lors du rechargement provoquera uniquement la
       perte des lignes faisant partie du <command>INSERT</command>
       problématique, et non pas le contenu complet de la table.
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>--section=<replaceable class="parameter">nom_section</replaceable></option></term>
     <listitem>
      <para>
       N'exporter que la section spécifiée. Le nom de la section peut être
       <option>pre-data</option>, <option>data</option> ou
       <option>post-data</option>. Cette option peut être répétée pour sélectionner
       plusieurs sections. Par défaut, toutes les sections sont exportées.
      </para>

      <para>
       La section data contient les données réelles des tables, le contenu des
       Large Objects, les valeurs des séquences et les statistiques associées
       aux tables, vues matérialisées et tables externes. Les éléments de la
       section post-data incluent la définition des index, triggers, règles,
       statistiques sur les index et les contraintes (autres que les contraintes
       de vérification validées et les contraintes NOT NULL). Les éléments de la section pre-data
       regroupent tous les autres éléments de définition de données.
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>--sequence-data</option></term>
     <listitem>
      <para>
       Inclure les données des séquences dans l'export. Ce comportement est activé
       par défaut, sauf si l'on utilise les options <option>--no-data</option>,
       <option>--schema-only</option> ou <option>--statistics-only</option>.
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>--serializable-deferrable</option></term>
     <listitem>
      <para>
       Utiliser une transaction <literal>sérialisable</literal> pour l'export,
       afin de garantir que l'instantané utilisé soit cohérent avec les états
       futurs de la base. Cela est réalisé en attendant un point dans
       le flux des transactions où aucune anomalie ne peut être présente,
       de sorte qu'il n'y ait aucun risque que l'export échoue ou provoque
       l'annulation d'une autre transaction pour <literal>erreur de
        sérialisation</literal>. Voir <xref linkend="mvcc"/> pour davantage
       d'informations sur l'isolation des transactions et le contrôle d'accès
       concurrent.
      </para>

      <para>
       Cette option n'est pas utile pour un export uniquement destiné à une
       récupération après sinistre. Elle peut en revanche être utile si l'export
       est utilisé pour charger une copie de la base pour du reporting ou toute
       autre activité en lecture seule, pendant que la base d'origine continue à
       être mise à jour. Sans cela, l'export serait dans un état incohérent
       avec l'exécution en parallèle des transactions qui auraient été validées
       entre temps. Par exemple, si un traitement de type batch est exécuté, un
       batch pourrait apparaître comme terminé dans l'export sans que tous les
       éléments qu'il contient y figurent.
      </para>

      <para>
       Cette option n'aura aucun effet si aucune transaction en
       lecture-écriture n'est active au lancement de pg_dump. Si des
       transactions en lecture-écriture sont actives, le démarrage de l'export
       peut être retardé pour une durée indéterminée. Une fois l'export lancé,
       les performances sont identiques, que l'option soit activée ou non.
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>--snapshot=<replaceable class="parameter">nom_snapshot</replaceable></option></term>
     <listitem>
      <para>
       Utiliser l'instantané synchronisé spécifié lors de l'export de la base
       de données (voir <xref
       linkend="functions-snapshot-synchronization-table"/> pour plus de
       détails).
      </para>

      <para>
       Cette option est utile lorsqu'il est nécessaire de synchroniser l'export
       avec un slot de réplication logique (voir <xref
       linkend="logicaldecoding"/>) ou avec une session concurrente.
      </para>

      <para>
       Dans le cas d'un export en parallèle, le nom d'instantané défini par
       cette option est utilisé au lieu de créer un nouvel instantané.
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>--statistics</option></term>
     <listitem>
      <para>
       Extrait les statistiques.
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>--statistics-only</option></term>
     <listitem>
      <para>
       Extraire uniquement les statistiques, sans le schéma (définitions des données) ni les données.
       Les statistiques des tables, des vues matérialisées, des tables
       distantes et des index sont exportées.
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>--strict-names</option></term>
     <listitem>
      <para>
       Exiger que chaque motif d'extension (<option>-e</option>/
       <option>--extension</option>), de schéma (<option>-n</option>/<option>--schema</option>)
       ou de table (<option>-t</option>/<option>--table</option>)
       corresponde à au moins une extension, un schéma ou une table dans la
       base de données à exporter. Cela s'applique également aux filtres
       utilisés avec <option>--filter</option>.
       Notez que si aucun des motifs d'extension, de schéma ou de table ne
       trouve de correspondance, <application>pg_dump</application> renverra
       une erreur même sans <option>--strict-names</option>.
      </para>

      <para>
       Cette option n'a pas d'effet sur
       <option>--exclude-extension</option>,
       <option>-N</option> / <option>--exclude-schema</option>,
       <option>-T</option> / <option>--exclude_table</option> ou
       <option>--exclude-table-date</option>. Un motif d'exclusion
       ne correspondant à aucun objet n'est pas considéré comme une erreur.
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>--sync-method=<replaceable class="parameter">method</replaceable></option></term>
     <listitem>
      <para>
       Lorsqu'elle est définie à <literal>fsync</literal>, qui est la valeur
       par défaut, <command>pg_dump --format=directory</command> va ouvrir
       récursivement tous les fichiers du répertoire d'archives et les
       synchroniser sur disque.
      </para>
      <para>
       Sur Linux, <literal>syncfs</literal> peut être utilisé à la place
       pour demander au système d'exploitation de synchroniser l'ensemble
       du système de fichiers contenant le répertoire d'archives. Voir
       <xref linkend="guc-recovery-init-sync-method"/> pour les précautions
       à connaître lors de l'utilisation de <literal>syncfs</literal>.
      </para>
      <para>
       Cette option n'a aucun effet si <option>--no-sync</option> est
       utilisé ou si <option>--format</option> n'est pas défini à
       <literal>directory</literal>.
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>--table-and-children=<replaceable class="parameter">motif</replaceable></option></term>
     <listitem>
      <para>
	   Cette option fonctionne de la même manière que l'option
       <option>-t</option>/<option>--table</option>, à la différence qu'elle inclut
       également les partitions et les tables enfants des tables dont le nom
       correspond au <replaceable class="parameter">motif</replaceable>.
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>--use-set-session-authorization</option></term>
     <listitem>
      <para>
       Émettre des commandes SQL standard <command>SET SESSION
        AUTHORIZATION</command> à la place de commandes <command>ALTER
        OWNER</command> pour définir la propriété des objets. Ceci rend
       l'extraction davantage compatible avec les standards, mais, suivant
       l'historique des objets exportés, la restauration pourrait ne pas fonctionner
       correctement. Par ailleurs, une extraction utilisant <command>SET
        SESSION AUTHORIZATION</command> nécessitera certainement des droits
       superutilisateur pour être restaurée correctement, alors que
       <command>ALTER OWNER</command> nécessite des droits moins élevés.
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>-?</option></term>
     <term><option>--help</option></term>
     <listitem>
      <para>
       Afficher l'aide sur les arguments en ligne de commande de
       <application>pg_dump</application>, puis quitter.
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
  </para>

  <para>
   Les options de ligne de commande suivantes contrôlent les paramètres de
   connexion&nbsp;:

   <variablelist>
    <varlistentry>
     <term><option>-d <replaceable class="parameter">nom_base</replaceable></option></term>
     <term><option>--dbname=<replaceable class="parameter">nom_base</replaceable></option></term>
     <listitem>
      <para>
       Indique le nom de la base de données à laquelle se connecter. Ceci revient à
       spécifier <replaceable class="parameter">nom_base</replaceable> comme
       premier argument non optionnel sur la ligne de commande. Ce nom
       peut être remplacé par une <link linkend="libpq-connstring">chaîne de
        connexion</link>. Dans ce cas, les paramètres de la chaîne de connexion
       surchargeront toute option de ligne de commande conflictuelle.
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>-h <replaceable class="parameter">hôte</replaceable></option></term>
     <term><option>--host <replaceable class="parameter">hôte</replaceable></option></term>
     <listitem>
      <para>
       Indique le nom d'hôte de la machine sur laquelle le serveur de bases de
       données est en cours d'exécution. Si la valeur commence par une barre
       oblique (/), elle est interprétée comme le répertoire du socket de
       domaine Unix. Par défaut, la valeur est tirée de la variable
       d'environnement <envar>PGHOST</envar>, si elle est définie&nbsp;;
       sinon, une connexion via socket de domaine Unix est tentée.
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>-p <replaceable class="parameter">port</replaceable></option></term>
     <term><option>--port <replaceable class="parameter">port</replaceable></option></term>
     <listitem>
      <para>
       Indique le port TCP ou le suffixe du fichier socket de domaine Unix local
       sur lequel le serveur écoute les connexions. La valeur par défaut est
       celle de la variable d'environnement <envar>PGPORT</envar>, si elle est
       définie. Dans le cas contraire, il s'agit de la valeur fournie à la
       compilation.
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>-U <replaceable class="parameter">nomutilisateur</replaceable></option></term>
     <term><option>--username <replaceable class="parameter">nomutilisateur</replaceable></option></term>
     <listitem>
      <para>
       Indique le nom d'utilisateur utilisé pour la connexion.
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>-w</option></term>
     <term><option>--no-password</option></term>
     <listitem>
      <para>
       Ne jamais demander de mot de passe. Si le serveur requiert une
       authentification par mot de passe et qu'aucun mot de passe n'est disponible
       par un autre moyen (par exemple via le fichier <filename>.pgpass</filename>),
       la tentative de connexion échouera. Cette option peut être utile dans les
       scripts ou les traitements de type batch, où aucun utilisateur
       n'est présent pour saisir un mot de passe.
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>-W</option></term>
     <term><option>--password</option></term>
     <listitem>
      <para>
       Force <application>pg_dump</application> à demander un mot de passe
       avant la connexion à une base de données.
      </para>

      <para>
       Cette option n'est jamais indispensable car
       <application>pg_dump</application> demande automatiquement un mot de
       passe si le serveur exige une authentification par mot de passe.
       Néanmoins, <application>pg_dump</application> perd une tentative de
       connexion pour tester si le serveur requiert un mot de passe. Dans
       certains cas, il est préférable d'ajouter l'option <option>-W</option>
       pour éviter cette tentative de connexion supplémentaire.
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term><option>--role=<replaceable class="parameter">nomrole</replaceable></option></term>
     <listitem>
      <para>
       Spécifie un rôle à utiliser pour réaliser l'export. Avec cette option,
       <application>pg_dump</application> émet une commande <command>SET
        ROLE</command> <replaceable class="parameter">nomrole</replaceable>
       après s'être connecté à la base. C'est utile quand l'utilisateur
       authentifié (indiqué par <option>-U</option>) n'a pas les droits dont
       <application>pg_dump</application> a besoin, mais peut basculer vers un
       rôle qui les a. Certaines installations ont une politique qui est
       contre se connecter directement en tant que superutilisateur, et
       l'utilisation de cette option permet que les exports soient faits
       sans violer cette politique.
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
  </para>
 </refsect1>

 <refsect1>
  <title>Environnement</title>

  <variablelist>
   <varlistentry>
    <term><envar>PGDATABASE</envar></term>
    <term><envar>PGHOST</envar></term>
    <term><envar>PGOPTIONS</envar></term>
    <term><envar>PGPORT</envar></term>
    <term><envar>PGUSER</envar></term>

    <listitem>
     <para>
      Paramètres de connexion par défaut.
     </para>
    </listitem>
   </varlistentry>

   <varlistentry>
    <term><envar>PG_COLOR</envar></term>
    <listitem>
     <para>
      Indique s'il faut utiliser la couleur dans les messages de diagnostic.
      Les valeurs possibles sont <literal>always</literal>,
      <literal>auto</literal>, <literal>never</literal>.
     </para>
    </listitem>
   </varlistentry>
  </variablelist>

  <para>
   Cet outil, comme la plupart des autres outils
   <productname>PostgreSQL</productname>, utilise les variables
   d'environnement supportées par la bibliothèque
   <application>libpq</application> (voir <xref linkend="libpq-envars"/>).
  </para>
 </refsect1>

 <refsect1 id="app-pgdump-diagnostics">
  <title>Diagnostics</title>

  <para>
   <application>pg_dump</application> exécute intrinsèquement des instructions
   <command>SELECT</command>. Si des problèmes apparaissent à l'exécution de
   <application>pg_dump</application>, <xref linkend="app-psql"/> peut être
   utilisé pour s'assurer qu'il est possible de sélectionner des informations
   dans la base de données. De plus, tout paramètre de connexion par défaut et
   toute variable d'environnement utilisé par la bibliothèque
   <application>libpq</application> s'appliquent.
  </para>

  <para>
   L'activité générée par <application>pg_dump</application> dans la base de
   données est normalement collectée par le système de statistiques cumulées. Si
   c'est gênant, vous pouvez positionner le paramètre
   <varname>track_counts</varname> à false via <envar>PGOPTIONS</envar> ou la
   commande <literal>ALTER USER</literal>.
  </para>
 </refsect1>

 <refsect1 id="pg-dump-notes">
  <title>Notes</title>

  <para>
   Si des ajouts locaux à la base <literal>template1</literal> ont été
   effectués, il est impératif de s'assurer que la sortie de
   <application>pg_dump</application> est effectivement restaurée dans une
   base vide&nbsp;; dans le cas contraire, il est fort probable que la
   duplication des définitions des objets ajoutés engendre des erreurs. Pour
   obtenir une base vide de tout ajout local, on utilise
   <literal>template0</literal> à la place de <literal>template1</literal>
   comme modèle. Par exemple&nbsp;:
   <programlisting>CREATE DATABASE foo WITH TEMPLATE template0;
   </programlisting>
  </para>

  <para>
   Lorsqu'une extraction sans schéma est demandée et que l'option
   <option>--disable-triggers</option> est utilisée,
   <application>pg_dump</application> émet des commandes pour désactiver les
   triggers sur les tables utilisateur avant l'insertion des données,
   puis des commandes pour les réactiver après l'insertion. Si la restauration
   est interrompue en cours d'exécution, les catalogues système peuvent se
   retrouver dans un état incohérent.
  </para>

  <para>
   Si l'option <option>--statistics</option> est spécifiée,
   <command>pg_dump</command> inclura la plupart des statistiques de l'optimiseur
   dans le fichier d'export généré. Cependant, certaines statistiques peuvent
   ne pas être incluses, comme celles créées explicitement avec
   <xref linkend="sql-createstatistics"/> ou des statistiques personnalisées
   ajoutées par une extension. Il peut donc être utile d'exécuter <command>ANALYZE</command>
   après la restauration d'un export afin de garantir des performances optimales.
   Voir <xref linkend="vacuum-for-statistics"/> et <xref linkend="autovacuum"/>
   pour plus d'informations.
  </para>

  <para>
   Parce que <application>pg_dump</application> est utilisé pour transférer
   des données vers de nouvelles versions de
   <productname>PostgreSQL</productname>, sa sortie doit pouvoir être chargée
   dans des serveurs <productname>PostgreSQL</productname> plus récents
   que la version de <application>pg_dump</application> elle-même.
   <application>pg_dump</application> peut également extraire des données
   de serveurs <productname>PostgreSQL</productname> plus anciens que sa propre
   version. (Actuellement, les versions serveur prises en charge remontent
   jusqu'à la 9.2.) En revanche, <application>pg_dump</application> ne peut pas
   extraire de données depuis un serveur <productname>PostgreSQL</productname>
   dont la version majeure est plus récente que la sienne&nbsp;; il refusera même
   d'essayer, afin d'éviter de produire un export invalide. De plus, rien
   ne garantit que la sortie de <application>pg_dump</application> puisse être
   chargée dans un serveur d'une version majeure plus ancienne &nbsp;&mdash;
   même si les données ont été extraites depuis une telle version. Restaurer
   un export dans un serveur de version plus ancienne pourrait nécessiter de
   modifier manuellement le fichier pour retirer les syntaxes non reconnues par
   cette version. L'utilisation de l'option
   <option>--quote-all-identifiers</option> est recommandée lors de
   l'utilisation de versions différentes, afin d'éviter certains problèmes liés
   aux différences entre les listes de mots réservés d'une version à l'autre
   de <productname>PostgreSQL</productname>.
  </para>

  <para>
   Lors de l'export des souscriptions de réplication logique,
   <application>pg_dump</application> générera des commandes <command>CREATE
    SUBSCRIPTION</command> utilisant l'option <literal>connect = false</literal>,
   afin que la restauration de la souscription n'établisse pas de connexion
   distante pour créer un slot de réplication ou pour effectuer la copie
   initiale des tables. De cette façon, l'export peut être restauré sans
   nécessiter d'accès réseau aux serveurs distants. Il revient alors à
   l'utilisateur de réactiver les souscriptions de manière appropriée.
   Si les hôtes concernés ont changé, les informations de connexion devront
   être mises à jour. Il peut également être pertinent de tronquer les tables
   cibles avant de lancer une nouvelle copie complète. Si les utilisateurs
   souhaitent copier les données initiales lors du rafraîchissement, ils
   doivent créer le slot avec <literal>two_phase = false</literal>. Après la
   synchronisation initiale, l'option <link
   linkend="sql-createsubscription-params-with-two-phase"><literal>two_phase</literal></link>
   sera automatiquement activée si la souscription a été initialement créée avec
   l'option <literal>two_phase = true</literal>.
  </para>

  <para>
   Il est généralement recommandé d'utiliser l'option <option>-X</option>
   (<option>--no-psqlrc</option>) lors de la restauration d'une base de données
   à partir d'un script texte généré par <application>pg_dump</application> pour
   s'assurer d'un traitement propre et empêcher tout conflit potentiel avec des
   configurations personnalisées de <application>psql</application>.
  </para>
 </refsect1>

 <refsect1 id="pg-dump-examples" xreflabel="Exemples">
  <title>Exemples</title>

  <para>
   Exporter une base appelée <literal>ma_base</literal> dans un script
   SQL&nbsp;:
   <screen><prompt>$</prompt> <userinput>pg_dump ma_base &gt; base.sql</userinput>
   </screen>
  </para>

  <para>
   Charger ce script dans une base nouvellement créée et nommée
   <literal>nouvelle_base</literal>&nbsp;:

   <screen><prompt>$</prompt> <userinput>psql -X -d nouvelle_base -f base.sql</userinput>
   </screen>
  </para>

  <para>
   Exporter une base dans un fichier archive au format personnalisé&nbsp;:

   <screen><prompt>$</prompt> <userinput>pg_dump -Fc ma_base &gt; base.dump</userinput>
   </screen>
  </para>

  <para>
   Exporter une base de données dans une archive au format
   répertoire&nbsp;:

   <screen>
<prompt>$</prompt> <userinput>pg_dump -Fd ma_base -f rep_sauve</userinput>
   </screen>
  </para>

  <para>
   Exporter une base de données en utilisant le format répertoire et
   en activant la parallélisation sur cinq processus&nbsp;:

   <screen>
<prompt>$</prompt> <userinput>pg_dump -Fd ma_base -j 5 -f rep_sauvegarde</userinput>
   </screen>
  </para>

  <para>
   Charger un fichier d'archive dans une nouvelle base nommée
   <literal>nouvelle_base</literal>&nbsp;:

   <screen><prompt>$</prompt> <userinput>pg_restore -d nouvelle_base base.dump</userinput>
   </screen>
  </para>

  <para>
   Recharger un fichier d'archive dans la même base de données que celle depuis laquelle il a été exporté, en supprimant son contenu actuel&nbsp;:

   <screen>
<prompt>$</prompt> <userinput>pg_restore -d postgres --clean --create db.dump</userinput>
   </screen>
  </para>

  <para>
   Exporter la table nommée <literal>mytab</literal>&nbsp;:

   <screen><prompt>$</prompt> <userinput>pg_dump -t ma_table ma_base &gt; base.sql</userinput>
   </screen>
  </para>

  <para>
   Exporter toutes les tables du schéma <literal>detroit</literal> et dont
   le nom commence par <literal>emp</literal> sauf la table nommée
   <literal>employee_log</literal>&nbsp;:

   <screen><prompt>$</prompt> <userinput>pg_dump -t 'detroit.emp*' -T detroit.employee_log ma_base &gt; base.sql</userinput>
   </screen>
  </para>

  <para>
   Exporter tous les schémas dont le nom commence par
   <literal>est</literal> ou <literal>ouest</literal> et se termine par
   <literal>gsm</literal>, en excluant les schémas dont le nom contient le mot
   <literal>test</literal>&nbsp;:

   <screen>
<prompt>$</prompt> <userinput>pg_dump -n 'est*gsm' -n 'ouest*gsm' -N '*test*' ma_base &gt; base.sql</userinput>
   </screen>
  </para>

  <para>
   Idem mais en utilisant des expressions régulières pour regrouper les options&nbsp;:

   <screen><prompt>$</prompt> <userinput>pg_dump -n '(est|ouest)*gsm' -N '*test*' ma_base &gt; base.sql</userinput>
   </screen>
  </para>

  <para>
   Exporter tous les objets de la base sauf les tables dont le nom commence
   par <literal>ts_</literal>&nbsp;:

   <screen><prompt>$</prompt> <userinput>pg_dump -T 'ts_*' ma_base &gt; base.sql</userinput>
   </screen>
  </para>

  <para>
   Pour spécifier un nom comportant des majuscules dans les options
   <option>-t</option> et similaires, il faut entourer le nom de guillemets
   doubles&nbsp;; sinon, il sera converti en minuscules (voir
   <xref linkend="app-psql-patterns"/>). Or, comme les guillemets doubles ont
   une signification particulière pour le shell, ils doivent à leur tour être
   échappés. Ainsi, pour extraire une seule table dont le nom comporte des
   majuscules, il faut utiliser une commande du style&nbsp;:

   <screen>
<prompt>$</prompt> <userinput>pg_dump -t "\"NomAMajuscule\"" ma_base &gt; ma_base.sql</userinput>
</screen></para>

  <para>
   Pour exporter toutes les tables dont le nom commence par
   <literal>matable</literal>, à l'exception de la table
   <literal>matable2</literal>, créer un fichier
   <filename>filtre.txt</filename> comme suit&nbsp;:
<programlisting>
include table matable*
exclude table matable2
</programlisting>

<screen>
<prompt>$</prompt> <userinput>pg_dump --filter=filtre.txt ma_base &gt; ma_base.sql</userinput>
   </screen>
  </para>
 </refsect1>

 <refsect1>
  <title>Voir aussi</title>

  <simplelist type="inline">
   <member><xref linkend="app-pg-dumpall"/></member>
   <member><xref linkend="app-pgrestore"/></member>
   <member><xref linkend="app-psql"/></member>
  </simplelist>
 </refsect1>

</refentry>
