<?xml version="1.0" encoding="UTF-8"?>
<!-- Dernière modification
     le       $Date$
     par      $Author$
     révision $Revision$ -->
<!-- SAS 20060618 : Relecture -->

<refentry id="app-createdb">
 <refmeta>
  <refentrytitle><application>createdb</application></refentrytitle>
  <manvolnum>1</manvolnum>
  <refmiscinfo>Application</refmiscinfo>
 </refmeta>

 <refnamediv>
  <refname>createdb</refname>
  <refpurpose>Créer une nouvelle base de données <productname>PostgreSQL</productname></refpurpose>
 </refnamediv>

 <refsynopsisdiv>
  <cmdsynopsis>
   <command>createdb</command>
   <arg rep="repeat"><replaceable>option_connexion</replaceable></arg>
   <arg rep="repeat"><replaceable>option</replaceable></arg>
   <arg choice="opt"><replaceable>nombase</replaceable></arg>
   <arg choice="opt"><replaceable>description</replaceable></arg>
  </cmdsynopsis>
 </refsynopsisdiv>


 <refsect1 id="r1-app-createdb-1">
  <title>
   Description
  </title>
  <indexterm zone="app-createdb">
   <primary>createdb</primary>
  </indexterm>

  <para>
   <application>createdb</application> crée une nouvelle base de données.
  </para>

  <para>
   Normalement, l'utilisateur de la base de données qui exécute cette commande
   devient le propriétaire de la nouvelle base de données. Néanmoins, un
   propriétaire différent peut être spécifié via l'option <option>-O</option>,
   sous réserve que l'utilisateur qui lance la commande ait les droits appropriés.
  </para>

  <para>
   <application>createdb</application> est un enrobage de la commande
   <acronym>SQL</acronym> <xref linkend="sql-createdatabase"/>.
   Il n'y a pas de réelle différence entre la création de bases de données par cet outil 
   ou à l'aide d'autres méthodes d'accès au serveur.
  </para>

 </refsect1>


 <refsect1>
  <title>Options</title>

  <para>
   <application>createdb</application> accepte les arguments suivants en ligne
   de commande&nbsp;:

    <variablelist>
     <varlistentry>
      <term><replaceable class="parameter">nombase</replaceable></term>
      <listitem>
       <para>
	Le nom de la base de données à créer. Le nom doit être unique
	parmi toutes les bases de données <productname>PostgreSQL</productname>
	de ce groupe. La valeur par défaut est le nom de l'utilisateur courant.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><replaceable class="parameter">description</replaceable></term>
      <listitem>
       <para>
        Le commentaire à associer à la base de données créée.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-D <replaceable class="parameter">tablespace</replaceable></option></term>
      <term><option>--tablespace=<replaceable class="parameter">tablespace</replaceable></option></term>
      <listitem>
       <para>
	Le tablespace par défaut de la base de données. (This name
        is processed as a double-quoted identifier.)
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-e</option></term>
      <term><option>--echo</option></term>
      <listitem>
       <para>
        Les commandes engendrées par <application>createdb</application> et
	envoyées au serveur sont affichées.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-E <replaceable class="parameter">locale</replaceable></option></term>
      <term><option>--encoding=<replaceable class="parameter">locale</replaceable></option></term>
      <listitem>
       <para>
        L'encodage des caractères à utiliser dans la base de
	données. Les jeux de caractères supportés par le serveur
	<productname>PostgreSQL</productname> sont décrits dans
	<xref linkend="multibyte-charset-supported"/>.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-l <replaceable
        class="parameter">locale</replaceable></option></term>
      <term><option>--locale=<replaceable
        class="parameter">locale</replaceable></option></term>
      <listitem>
       <para>
        Indique la locale à utiliser dans cette base de données. C'est équivalent
	à préciser à la fois <option>--lc-collate</option> et
	<option>--lc-ctype</option>.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>--lc-collate=<replaceable
        class="parameter">locale</replaceable></option></term>
      <listitem>
       <para>
        Indique le paramètre LC_COLLATE utilisé pour cette base de données.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>--lc-ctype=<replaceable
        class="parameter">locale</replaceable></option></term>
      <listitem>
       <para>
        Indique le paramètre LC_CTYPE utilisé pour cette base de données.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-O <replaceable class="parameter">propriétaire</replaceable></option></term>
      <term><option>--owner=<replaceable class="parameter">propriétaire</replaceable></option></term>
      <listitem>
       <para>
	Le propriétaire de la base de données.
        (This name is processed as a double-quoted identifier.)
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-T <replaceable class="parameter">modèle</replaceable></option></term>
      <term><option>--template=<replaceable class="parameter">modèle</replaceable></option></term>
      <listitem>
       <para>
        La base de données modèle.
        (This name is processed as a double-quoted identifier.)
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
       <term><option>-V</option></term>
       <term><option>--version</option></term>
       <listitem>
       <para>
         Affiche la version de <application>createdb</application> puis
         quitte.
       </para>
       </listitem>
     </varlistentry>

    <varlistentry>
      <term><option>-?</option></term>
      <term><option>--help</option></term>
      <listitem>
      <para>
        Affiche l'aide sur les arguments en ligne de commande de
        <application>createdb</application>, puis quitte
      </para>
      </listitem>
    </varlistentry>
    </variablelist>
   </para>

   <para>
    Les options <option>-D</option>, <option>-l</option>, <option>-E</option>,
    <option>-O</option> et <option>-T</option> correspondent aux options de la
    commande SQL sous-jacente
	<xref linkend="sql-createdatabase"/>,
	à consulter pour plus d'informations sur ces options.
   </para>

   <para>
    <application>createdb</application> accepte aussi les arguments suivants en
    ligne de commande, pour les paramètres de connexion&nbsp;:

    <variablelist>
     <varlistentry>
      <term><option>-h <replaceable class="parameter">hôte</replaceable></option></term>
      <term><option>--host=<replaceable class="parameter">hôte</replaceable></option></term>
      <listitem>
       <para>
	Le nom de l'hôte sur lequel le serveur est en cours
	d'exécution. Si la valeur commence avec un slash (NDT&nbsp;: barre oblique, /), elle est utilisée
	comme répertoire du socket de domaine Unix.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-p <replaceable class="parameter">port</replaceable></option></term>
      <term><option>--port=<replaceable class="parameter">port</replaceable></option></term>
      <listitem>
       <para>
	Le port TCP ou l'extension du fichier socket de domaine Unix
	local sur lequel le serveur attend les connexions.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-U <replaceable class="parameter">nomutilisateur</replaceable></option></term>
      <term><option>--username=<replaceable class="parameter">nomutilisateur</replaceable></option></term>
      <listitem>
       <para>
        Le nom de l'utilisateur utilisé pour la connexion.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-w</option></term>
      <term><option>--no-password</option></term>
      <listitem>
       <para>
        Ne demande jamais un mot de passe. Si le serveur en réclame un pour
        l'authentification et qu'un mot de passe n'est pas disponible d'une autre
        façon (par exemple avec le fichier <filename>.pgpass</filename>), la
        tentative de connexion échouera. Cette option peut être utile pour les
        scripts où aucun utilisateur n'est présent pour saisir un mot de passe.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-W</option></term>
      <term><option>--password</option></term>
      <listitem>
       <para>
        Force <application>createdb</application> à demander un mot de passe
	avant la connexion à une base de données.
       </para>

       <para>
        Cette option n'est jamais obligatoire car
        <application>createdb</application> demandera automatiquement un
	mot de passe si le serveur exige une authentification par mot de
	passe. Néanmoins, <application>createdb</application> perdra une
	tentative de connexion pour trouver que le serveur veut un mot de
	passe. Dans certains cas, il est préférable d'ajouter l'option
        <option>-W</option> pour éviter la tentative de connexion.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>--maintenance-db=<replaceable class="parameter">dbname</replaceable></option></term>
      <listitem>
       <para>
         Specifies the name of the database to connect to when creating the
         new database. If not specified, the <literal>postgres</literal>
         database will be used; if that does not exist (or if it is the name
         of the new database being created), <literal>template1</literal> will
         be used.
       </para>
      </listitem>
     </varlistentry>
    </variablelist>
   </para>

 </refsect1>


 <refsect1>
  <title>Environnement</title>

  <variablelist>
   <varlistentry>
    <term><envar>PGDATABASE</envar></term>
    <listitem>
     <para>
      S'il est configuré, précise le nom de la base de données à créer. Peut-être surchargé sur
      la ligne de commande.
     </para>
    </listitem>
   </varlistentry>

   <varlistentry>
    <term><envar>PGHOST</envar></term>
    <term><envar>PGPORT</envar></term>
    <term><envar>PGUSER</envar></term>

    <listitem>
     <para>
      Paramètres de connexion par défaut. <envar>PGUSER</envar> détermine aussi
      le nom de la base de données à créer si ce dernier n'est pas spécifié sur la ligne
      de commande ou par <envar>PGDATABASE</envar>.
     </para>
    </listitem>
   </varlistentry>
  </variablelist>

  <para>
   Cet outil, comme la plupart des autres outils <productname>PostgreSQL</productname>,
   utilise aussi les variables d'environnement supportées par la bibliothèque
   <application>libpq</application> (voir <xref linkend="libpq-envars"/>).
  </para>

 </refsect1>


 <refsect1>
  <title>Diagnostiques</title>

  <para>
   En cas de difficulté, on peut se référer à <xref linkend="sql-createdatabase"
  /> et <xref linkend="app-psql"/> qui présentent
   les problèmes éventuels et les messages d'erreurs. Le
   serveur de bases de données doit être en cours d'exécution sur l'hôte
   cible. De plus, tous les paramètres de connexion et variables d'environnement par
   défaut utilisés par la bibliothèque d'interface
   <application>libpq</application> s'appliquent.
  </para>

 </refsect1>


 <refsect1>
  <title>Exemples</title>

   <para>
    Créer la base de données <literal>demo</literal> sur le
    serveur de bases de données par défaut&nbsp;:
<screen><prompt>$ </prompt><userinput>createdb demo</userinput>
</screen>
   </para>

   <para>
    Créer la base de données <literal>demo</literal> sur le
    serveur hébergé sur l'hôte <literal>eden</literal>, port 5000, en utilisant l'encodage
    <literal>LATIN1</literal> avec affichage de la commande engendrée&nbsp;:
<screen><prompt>$ </prompt><userinput>createdb -p 5000 -h eden -E LATIN1 -e demo</userinput>
<computeroutput>CREATE DATABASE "demo" ENCODING 'LATIN1'</computeroutput>
</screen>
   </para>
 </refsect1>


 <refsect1>
  <title>Voir aussi</title>

  <simplelist type="inline">
   <member><xref linkend="app-dropdb"/></member>
   <member><xref linkend="sql-createdatabase"/></member>
  </simplelist>
 </refsect1>

</refentry>
