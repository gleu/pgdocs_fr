<!-- $Header: /var/lib/cvs/pgsql-fr/sgml/ref/set_session_auth.sgml,v 1.8 2004/12/21 23:09:14 guillaume Exp $ -->
<refentry id="SQL-SET-SESSION-AUTHORIZATION">
 <refmeta>
  <refentrytitle id="sql-set-session-authorization-title">SET SESSION AUTHORIZATION</refentrytitle>
  <refmiscinfo>SQL - Instructions du langage</refmiscinfo>
 </refmeta>

 <refnamediv>
  <refname>SET SESSION AUTHORIZATION</refname>
  <refpurpose>initialise l'identifiant de l'utilisateur de la session et
   l'identifiant de l'utilisateur courant de la session courante</refpurpose>
 </refnamediv>

 <indexterm zone="sql-set-session-authorization">
  <primary>SET SESSION AUTHORIZATION</primary>
 </indexterm>

 <refsynopsisdiv>
<synopsis>
SET [ SESSION | LOCAL ] SESSION AUTHORIZATION <replaceable
class="parameter">utilisateur</replaceable>
SET [ SESSION | LOCAL ] SESSION AUTHORIZATION DEFAULT
RESET SESSION AUTHORIZATION
</synopsis>
 </refsynopsisdiv>

 <refsect1>
  <title>Description</title>

  <para>
   Cette commande initialise l'identifiant de l'utilisateur de la session de
   l'identifiant de l'utilisateur courant pour le contexte courant de la
   session SQL avec <replaceable class="parameter">utilisateur</replaceable>. 
   Le nom de l'utilisateur pourrait être soit un identifiant soit une chaîne
   littérale. En utilisant cette commande, il est possible, par exemple, de
   devenir temporairement un utilisateur non privilégié et de redevenir plus
   tard un superutilisateur.
  </para>

  <para>
   L'identifiant de l'utilisateur de la session est généralement configuré
   pour être le nom utilisateur fourni par le client (généralement celui qui
   s'est authentifié). L'identifiant de l'utilisateur courant est normalement
   identique à l'identifiant de l'utilisateur de la session mais cela pourrait
   changer temporairement dans le contexte des fonctions <quote>setuid</quote>
   et des mécanismes similaires. L'identifiant de l'utilisateur courant est
   important pour la vérification des droits.
  </para>

  <para>
   L'identifiant de l'utilisateur de la session pourrait être modifié
   seulement si l'utilisateur initial de la session (l'<firstterm>utilisateur
   authentifié</firstterm>) a le droit de superutilisateur. Sinon, la commande
   est acceptée seulement si le nom de l'utilisateur authentifié est spécifié.
  </para>

  <para>
   Les modifieurs <literal>SESSION</> et <literal>LOCAL</> agissent de la même
   façon que la commande standard <xref linkend="SQL-SET"
   endterm="SQL-SET-title">.
  </para>

  <para>
   Les formes <literal>DEFAULT</> et <literal>RESET</> réinitialisent les
   identifiant de l'utilisateur de la session et de l'utilisateur courant
   pour être ceux de nom de l'utilisateur originellement authentifié. Ces
   formes pourraient être exécutées par tout utilisateur.
  </para>
 </refsect1>

 <refsect1>
  <title>Exemples</title>

<programlisting>
SELECT SESSION_USER, CURRENT_USER;

 session_user | current_user 
--------------+--------------
 peter        | peter

SET SESSION AUTHORIZATION 'paul';

SELECT SESSION_USER, CURRENT_USER;

 session_user | current_user 
--------------+--------------
 paul         | paul
</programlisting>
 </refsect1>

 <refsect1>
  <title>Compatibilité</title>

  <para>
   Le standard SQL autorise l'apparition de quelques autres expressions à la
   place du littéral <replaceable>utilisateur</replaceable> qui ne sont pas
   importantes en practique.  <productname>PostgreSQL</productname> autorise la
   syntaxe de l'identifiant (<literal>"utilisateur"</literal>) alors que SQL ne
   le permet pas. SQL n'autorise pas cette commande lors d'une
   transaction&nbsp;; <productname>PostgreSQL</productname> ne fait pas cette
   restriction parce qu'il n'y a aucune raison de le faire. Les droits
   nécessaires pour exécuter cette commande sont laissés à la définition de
   l'implémentation par le standard.
  </para>
 </refsect1>
</refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode:sgml
sgml-omittag:nil
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
sgml-parent-document:nil
sgml-default-dtd-file:"../reference.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:("/usr/lib/sgml/catalog")
sgml-local-ecat-files:nil
End:
-->
