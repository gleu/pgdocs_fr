<!--
$Header: /var/lib/cvs/pgsql-fr/sgml/ref/alter_sequence.sgml,v 1.7 2005/03/14 06:03:51 guillaume Exp $
PostgreSQL documentation
-->

<refentry id="SQL-ALTERSEQUENCE">
 <refmeta>
  <refentrytitle id="SQL-ALTERSEQUENCE-TITLE">ALTER SEQUENCE</refentrytitle>
  <refmiscinfo>SQL - Instructions du langage</refmiscinfo>
 </refmeta>

 <refnamediv>
  <refname>
   ALTER SEQUENCE
  </refname>
  <refpurpose>
   modifie la définition d'un générateur de séquence
  </refpurpose>
 </refnamediv> 

 <indexterm zone="sql-altersequence">
  <primary>ALTER SEQUENCE</primary>
 </indexterm>

 <refsynopsisdiv>
  <synopsis>
ALTER SEQUENCE <replaceable class="parameter">nom</replaceable> [ INCREMENT [ BY
] <replaceable class="parameter">increment</replaceable> ]
    [ MINVALUE <replaceable class="parameter">valeurmin</replaceable> | NO
MINVALUE ] [ MAXVALUE <replaceable class="parameter">valeurmax</replaceable> |
NO MAXVALUE ]
    [ RESTART [ WITH ] <replaceable class="parameter">debut</replaceable> ] [
CACHE <replaceable class="parameter">cache</replaceable> ] [ [ NO ] CYCLE ]
  </synopsis>
 </refsynopsisdiv>

 <refsect1>
  <title>Description</title>

  <para>
   <command>ALTER SEQUENCE</command> modifie les paramètres d'un générateur de
   séquence. Tout paramètre non précisé dans la commande <command>ALTER
   SEQUENCE</command> reste à sa valeur précédente.
  </para>
 </refsect1>

 <refsect1>
  <title>Paramètres</title>

   <para>
    <variablelist>
     <varlistentry>
      <term><replaceable class="parameter">nom</replaceable></term>
      <listitem>
       <para>
        Le nom d'une séquence à modifier (pouvant être qualifié avec le nom du
        schéma).
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><replaceable class="parameter">increment</replaceable></term>
      <listitem>
       <para>
        La clause <literal>INCREMENT BY <replaceable
        class="parameter">increment</replaceable></literal> est en option. Une
        valeur positive créera une séquence ascendante, une valeur négative une
        séquence descendante. Si non spécifié, la valeur de l'ancien incrément
        reste.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><replaceable class="parameter">valeurmin</replaceable></term>
      <term><literal>NO MINVALUE</literal></term>
      <listitem>
       <para>
        La clause <literal>MINVALUE <replaceable
        class="parameter">valeurmin</replaceable></literal> en option détermine
        la valeur minimale qu'une séquence peut générer. Si <literal>NO
        MINVALUE</literal> est spécifié, La valeur par défaut, respectivement,
        de 1 et de -2<superscript>63</>-1 pour les séquences ascendantes et
        descendantes sera utilisée. SI aucune option n'est spécifiée, la valeur
        minimale courante reste.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><replaceable class="parameter">valeurmax</replaceable></term>
      <term><literal>NO MAXVALUE</literal></term>
      <listitem>
       <para>
        La clause <literal>MAXVALUE <replaceable
        class="parameter">valeurmax</replaceable></literal> en option détermine
        la valeur maximale pour la séquence. Si <literal>NO
        MAXVALUE</literal> est spécifié, les valeurs par défaut
        2<superscript>63</>-1 et -1 pour, respectivement, les séquences
        ascendantes et descendantes seront utilisées. Si aucune option n'est
        spécifiée, la valeur maximale courante reste.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><replaceable class="parameter">debut</replaceable></term>
      <listitem>
       <para>
        La clause <literal>RESTART WITH <replaceable 
        class="parameter">start</replaceable></literal> en option modifie la
        valeur actuelle de la séquence.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><replaceable class="parameter">cache</replaceable></term>
      <listitem>
       <para>
        La clause <literal>CACHE <replaceable
        class="parameter">cache</replaceable></literal> active la préallocation
        des numéros de séquences et leur stockage en mémoire pour un accès plus
        rapide. La valeur minimale est de 1 (seule une valeur sera générée à la
        fois, donc pas de cache). Si non spécifiée, l'ancienne valeur reste.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term>CYCLE</term>
      <listitem>
       <para>
        Le mot clé <literal>CYCLE</literal> en option pourrait être utilisé
        pour autoriser le cycle de la séquence lorsque <replaceable
        class="parameter">valeurmax</replaceable> ou <replaceable
        class="parameter">valeurmin</replaceable> a été atteint par,
        respectivement, une séquence ascendante ou descendante. Si la limite est
        atteinte, le prochain numéro généré sera, respectivement, <replaceable
        class="parameter">valeurmin</replaceable> ou <replaceable
        class="parameter">valeurmax</replaceable>.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term>NO CYCLE</term>
      <listitem>
       <para>
        Si le mot clé <literal>NO CYCLE</literal> en option est spécifié, tout
        appel à <function>nextval</function> une fois que la séquence a atteint
        sa valeur max renverra une erreur. Si ni <literal>CYCLE</literal> ni
        <literal>NO CYCLE</literal> ne sont spécifiés, l'ancien comportement
        persiste.
       </para>
      </listitem>
     </varlistentry>
    </variablelist>
   </para>
  </refsect1>

 <refsect1>
  <title>Exemples</title>

  <para>
   Relancer une séquence appelée <literal>serie</literal>, à 105&nbsp;:
<programlisting>
ALTER SEQUENCE serie RESTART WITH 105;
</programlisting>
  </para>
 </refsect1>

 <refsect1>
  <title>Notes</title>

  <para>
   Pour éviter de bloquer des transactions concurrentes lors de la demande de
   numéro de la même séquence, <command>ALTER SEQUENCE</command> n'est jamais
   annulé&nbsp;; les modifications prennent effet immédiatement et ne sont pas
   réversibles.
  </para>

  <para>
   <command>ALTER SEQUENCE</command> n'affectera pas immédiatement les
   résultats de <literal>nextval</> sur les serveurs autres que celui qui a
   lancé la commande, s'ils ont préalloué (caché) des valeurs de la séquence.
   Ils utiliseront toutes les valeurs en cache avant de s'apercevoir des
   modifications sur les paramètres de la séquence. Le serveur qui a lancé la
   commande le saura immédiatement.
  </para>
 </refsect1>


 <refsect1>
  <title>Compatibilité</title>

   <para>
    <command>ALTER SEQUENCE</command> est conforme au standard
    <acronym>SQL:2003</acronym>.
   </para>
 </refsect1>
</refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:nil
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
sgml-parent-document:nil
sgml-default-dtd-file:"../reference.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:"/usr/lib/sgml/catalog"
sgml-local-ecat-files:nil
End:
-->
